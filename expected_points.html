<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Phil Henrickson">
<meta name="dcterms.date" content="2025-01-09">

<title>Expected Points and College Football</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-791fe9023ca153a4541d1fde25bdaa08.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>
.panel-tabset > .nav-tabs,
.panel-tabset > .tab-content {border: none;}
</style>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body>

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#expected-points" id="toc-expected-points" class="nav-link active" data-scroll-target="#expected-points"><span class="header-section-number">1</span> Expected Points</a>
  <ul class="collapse">
  <li><a href="#sequences-of-play" id="toc-sequences-of-play" class="nav-link" data-scroll-target="#sequences-of-play"><span class="header-section-number">1.1</span> Sequences of Play</a></li>
  <li><a href="#defining-expected-points" id="toc-defining-expected-points" class="nav-link" data-scroll-target="#defining-expected-points"><span class="header-section-number">1.2</span> Defining Expected Points</a></li>
  <li><a href="#next-scoring-event" id="toc-next-scoring-event" class="nav-link" data-scroll-target="#next-scoring-event"><span class="header-section-number">1.3</span> Next Scoring Event</a></li>
  <li><a href="#illustrating-expected-points" id="toc-illustrating-expected-points" class="nav-link" data-scroll-target="#illustrating-expected-points"><span class="header-section-number">1.4</span> Illustrating Expected Points</a></li>
  <li><a href="#expected-point-situations" id="toc-expected-point-situations" class="nav-link" data-scroll-target="#expected-point-situations"><span class="header-section-number">1.5</span> Expected Point Situations</a></li>
  </ul></li>
  <li><a href="#modeling-expected-points" id="toc-modeling-expected-points" class="nav-link" data-scroll-target="#modeling-expected-points"><span class="header-section-number">2</span> Modeling Expected Points</a></li>
  <li><a href="#predicted-points-added" id="toc-predicted-points-added" class="nav-link" data-scroll-target="#predicted-points-added"><span class="header-section-number">3</span> Predicted Points Added</a>
  <ul class="collapse">
  <li><a href="#examining-a-drive" id="toc-examining-a-drive" class="nav-link" data-scroll-target="#examining-a-drive"><span class="header-section-number">3.1</span> Examining a Drive</a></li>
  <li><a href="#examining-games" id="toc-examining-games" class="nav-link" data-scroll-target="#examining-games"><span class="header-section-number">3.2</span> Examining Games</a>
  <ul class="collapse">
  <li><a href="#texas-am---alabama-2012" id="toc-texas-am---alabama-2012" class="nav-link" data-scroll-target="#texas-am---alabama-2012"><span class="header-section-number">3.2.1</span> Texas A&amp;M - Alabama 2012</a></li>
  <li><a href="#texas-am---alabama-2021" id="toc-texas-am---alabama-2021" class="nav-link" data-scroll-target="#texas-am---alabama-2021"><span class="header-section-number">3.2.2</span> Texas A&amp;M - Alabama 2021</a></li>
  <li><a href="#auburn---georgia-2013" id="toc-auburn---georgia-2013" class="nav-link" data-scroll-target="#auburn---georgia-2013"><span class="header-section-number">3.2.3</span> Auburn - Georgia 2013</a></li>
  <li><a href="#michigan-state---michigan-2015-woah" id="toc-michigan-state---michigan-2015-woah" class="nav-link" data-scroll-target="#michigan-state---michigan-2015-woah"><span class="header-section-number">3.2.4</span> Michigan State - Michigan, 2015 (WOAH)</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Expected Points and College Football</h1>
<p class="subtitle lead">Modeling Score Events from Play by Play Data</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Phil Henrickson </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 9, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="expected-points" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Expected Points</h1>
<p>I develop and explore an expected points model at the play level for evaluating college football offenses and defenses. The goal of this analysis is to place a value on offensive/defensive plays in terms of their contribution’s to a team’s <em>expected points</em>.</p>
<p>The data comes from collegefootballdata.com, which has play by play data on games from 2000 to present. Each observation represents one play in a game, in which we know the team, the situation (down, time remaining), and the location on the field (yards to go, yards to reach end zone). We have information about the types of plays as well in a text field.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Due to data quality issues, I focus my analysis on the years from 2007 and onwards.</p>
</div>
</div>
<section id="sequences-of-play" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="sequences-of-play"><span class="header-section-number">1.1</span> Sequences of Play</h2>
<p>For each play in a game, I model the probability of the next scoring event that will occur within the same half for either team. This means the analysis is not at the <em>drive</em> level, but at what I dub the <em>sequence</em> level. For any given play, the next scoring event can take on one of seven outcomes:</p>
<ul>
<li>Touchdown (7 points)</li>
<li>Field goal (3 points)</li>
<li>Safety (2 points)</li>
<li>No Score (0 points)</li>
<li>Opponent safety (-2 points)</li>
<li>Opponent field goal (-3 points)</li>
<li>Opponent touchdown (-7 points)</li>
</ul>
<p>Suppose we have two teams, A and B, playing in a game. Team A receives the opening kickoff, begins drive #1, drives for a few plays, and then punts. Team B takes over, which starts drive #2, and they drive for a few plays before also punting. Team A then manages to finally put points on the board, scoring a TD on drive #3.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">offense =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"A"</span>),</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">defense =</span> <span class="fu">c</span>(<span class="st">"B"</span>, <span class="st">"A"</span>, <span class="st">"B"</span>),</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">drive =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">drive_result =</span> <span class="fu">c</span>(<span class="st">"PUNT"</span>, <span class="st">"PUNT"</span>, <span class="st">"TD"</span>),</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">score_result =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="cn">NA</span>, <span class="st">"OFFENSE TD"</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gt_tbl</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="euigkdkdgu" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#euigkdkdgu table {
  font-family: Lato, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#euigkdkdgu thead, #euigkdkdgu tbody, #euigkdkdgu tfoot, #euigkdkdgu tr, #euigkdkdgu td, #euigkdkdgu th {
  border-style: none;
}

#euigkdkdgu p {
  margin: 0;
  padding: 0;
}

#euigkdkdgu .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #FFFFFF;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#euigkdkdgu .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#euigkdkdgu .gt_title {
  color: #333333;
  font-size: 24px;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#euigkdkdgu .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#euigkdkdgu .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#euigkdkdgu .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#euigkdkdgu .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#euigkdkdgu .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#euigkdkdgu .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#euigkdkdgu .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#euigkdkdgu .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#euigkdkdgu .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#euigkdkdgu .gt_spanner_row {
  border-bottom-style: hidden;
}

#euigkdkdgu .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#euigkdkdgu .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#euigkdkdgu .gt_from_md > :first-child {
  margin-top: 0;
}

#euigkdkdgu .gt_from_md > :last-child {
  margin-bottom: 0;
}

#euigkdkdgu .gt_row {
  padding-top: 7px;
  padding-bottom: 7px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #F6F7F7;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#euigkdkdgu .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#euigkdkdgu .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#euigkdkdgu .gt_row_group_first td {
  border-top-width: 2px;
}

#euigkdkdgu .gt_row_group_first th {
  border-top-width: 2px;
}

#euigkdkdgu .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#euigkdkdgu .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#euigkdkdgu .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#euigkdkdgu .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#euigkdkdgu .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#euigkdkdgu .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#euigkdkdgu .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#euigkdkdgu .gt_striped {
  background-color: #FAFAFA;
}

#euigkdkdgu .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#euigkdkdgu .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#euigkdkdgu .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#euigkdkdgu .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#euigkdkdgu .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#euigkdkdgu .gt_left {
  text-align: left;
}

#euigkdkdgu .gt_center {
  text-align: center;
}

#euigkdkdgu .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#euigkdkdgu .gt_font_normal {
  font-weight: normal;
}

#euigkdkdgu .gt_font_bold {
  font-weight: bold;
}

#euigkdkdgu .gt_font_italic {
  font-style: italic;
}

#euigkdkdgu .gt_super {
  font-size: 65%;
}

#euigkdkdgu .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#euigkdkdgu .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#euigkdkdgu .gt_indent_1 {
  text-indent: 5px;
}

#euigkdkdgu .gt_indent_2 {
  text-indent: 10px;
}

#euigkdkdgu .gt_indent_3 {
  text-indent: 15px;
}

#euigkdkdgu .gt_indent_4 {
  text-indent: 20px;
}

#euigkdkdgu .gt_indent_5 {
  text-indent: 25px;
}

#euigkdkdgu .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#euigkdkdgu div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="offense">offense</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="defense">defense</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="drive">drive</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="drive_result">drive_result</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="score_result">score_result</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="offense" class="gt_row gt_left">A</td>
<td headers="defense" class="gt_row gt_left">B</td>
<td headers="drive" class="gt_row gt_right">1</td>
<td headers="drive_result" class="gt_row gt_left">PUNT</td>
<td headers="score_result" class="gt_row gt_left">—</td></tr>
    <tr><td headers="offense" class="gt_row gt_left gt_striped">B</td>
<td headers="defense" class="gt_row gt_left gt_striped">A</td>
<td headers="drive" class="gt_row gt_right gt_striped">2</td>
<td headers="drive_result" class="gt_row gt_left gt_striped">PUNT</td>
<td headers="score_result" class="gt_row gt_left gt_striped">—</td></tr>
    <tr><td headers="offense" class="gt_row gt_left">A</td>
<td headers="defense" class="gt_row gt_left">B</td>
<td headers="drive" class="gt_row gt_right">3</td>
<td headers="drive_result" class="gt_row gt_left">TD</td>
<td headers="score_result" class="gt_row gt_left">OFFENSE TD</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>All plays on these three drives are one <strong>sequence</strong>. The outcome of this sequence is the points scored by Team A - if they score a touchdown, their points from this sequence is 7 (assuming for now they make the extra point). Team B’s points from this sequence is -7 points.</p>
<p>This means that each one of these play was leading up to the <strong>Next Scoring Event</strong> of Team A scoring, which was the outcome we assign to each drive (and play) in that sequence.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">offense =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"A"</span>),</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">defense =</span> <span class="fu">c</span>(<span class="st">"B"</span>, <span class="st">"A"</span>, <span class="st">"B"</span>),</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">sequence =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>),</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">drive =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">drive_result =</span> <span class="fu">c</span>(<span class="st">"PUNT"</span>, <span class="st">"PUNT"</span>, <span class="st">"TD"</span>),</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">score_result =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="cn">NA</span>, <span class="st">"OFFENSE TD"</span>),</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">next_score_event =</span> <span class="fu">c</span>(<span class="st">"team A TD"</span>, <span class="st">"team A TD"</span>, <span class="st">"team A TD"</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gt_tbl</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="imsqubkbjq" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#imsqubkbjq table {
  font-family: Lato, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#imsqubkbjq thead, #imsqubkbjq tbody, #imsqubkbjq tfoot, #imsqubkbjq tr, #imsqubkbjq td, #imsqubkbjq th {
  border-style: none;
}

#imsqubkbjq p {
  margin: 0;
  padding: 0;
}

#imsqubkbjq .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #FFFFFF;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#imsqubkbjq .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#imsqubkbjq .gt_title {
  color: #333333;
  font-size: 24px;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#imsqubkbjq .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#imsqubkbjq .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#imsqubkbjq .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#imsqubkbjq .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#imsqubkbjq .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#imsqubkbjq .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#imsqubkbjq .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#imsqubkbjq .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#imsqubkbjq .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#imsqubkbjq .gt_spanner_row {
  border-bottom-style: hidden;
}

#imsqubkbjq .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#imsqubkbjq .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#imsqubkbjq .gt_from_md > :first-child {
  margin-top: 0;
}

#imsqubkbjq .gt_from_md > :last-child {
  margin-bottom: 0;
}

#imsqubkbjq .gt_row {
  padding-top: 7px;
  padding-bottom: 7px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #F6F7F7;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#imsqubkbjq .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#imsqubkbjq .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#imsqubkbjq .gt_row_group_first td {
  border-top-width: 2px;
}

#imsqubkbjq .gt_row_group_first th {
  border-top-width: 2px;
}

#imsqubkbjq .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#imsqubkbjq .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#imsqubkbjq .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#imsqubkbjq .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#imsqubkbjq .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#imsqubkbjq .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#imsqubkbjq .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#imsqubkbjq .gt_striped {
  background-color: #FAFAFA;
}

#imsqubkbjq .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#imsqubkbjq .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#imsqubkbjq .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#imsqubkbjq .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#imsqubkbjq .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#imsqubkbjq .gt_left {
  text-align: left;
}

#imsqubkbjq .gt_center {
  text-align: center;
}

#imsqubkbjq .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#imsqubkbjq .gt_font_normal {
  font-weight: normal;
}

#imsqubkbjq .gt_font_bold {
  font-weight: bold;
}

#imsqubkbjq .gt_font_italic {
  font-style: italic;
}

#imsqubkbjq .gt_super {
  font-size: 65%;
}

#imsqubkbjq .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#imsqubkbjq .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#imsqubkbjq .gt_indent_1 {
  text-indent: 5px;
}

#imsqubkbjq .gt_indent_2 {
  text-indent: 10px;
}

#imsqubkbjq .gt_indent_3 {
  text-indent: 15px;
}

#imsqubkbjq .gt_indent_4 {
  text-indent: 20px;
}

#imsqubkbjq .gt_indent_5 {
  text-indent: 25px;
}

#imsqubkbjq .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#imsqubkbjq div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="offense">offense</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="defense">defense</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="sequence">sequence</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="drive">drive</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="drive_result">drive_result</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="score_result">score_result</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="next_score_event">next_score_event</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="offense" class="gt_row gt_left">A</td>
<td headers="defense" class="gt_row gt_left">B</td>
<td headers="sequence" class="gt_row gt_right">1</td>
<td headers="drive" class="gt_row gt_right">1</td>
<td headers="drive_result" class="gt_row gt_left">PUNT</td>
<td headers="score_result" class="gt_row gt_left">—</td>
<td headers="next_score_event" class="gt_row gt_left">team A TD</td></tr>
    <tr><td headers="offense" class="gt_row gt_left gt_striped">B</td>
<td headers="defense" class="gt_row gt_left gt_striped">A</td>
<td headers="sequence" class="gt_row gt_right gt_striped">1</td>
<td headers="drive" class="gt_row gt_right gt_striped">2</td>
<td headers="drive_result" class="gt_row gt_left gt_striped">PUNT</td>
<td headers="score_result" class="gt_row gt_left gt_striped">—</td>
<td headers="next_score_event" class="gt_row gt_left gt_striped">team A TD</td></tr>
    <tr><td headers="offense" class="gt_row gt_left">A</td>
<td headers="defense" class="gt_row gt_left">B</td>
<td headers="sequence" class="gt_row gt_right">1</td>
<td headers="drive" class="gt_row gt_right">3</td>
<td headers="drive_result" class="gt_row gt_left">TD</td>
<td headers="score_result" class="gt_row gt_left">OFFENSE TD</td>
<td headers="next_score_event" class="gt_row gt_left">team A TD</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>If the team on offense drives down and scores a TD/FG, this will end the sequence. If the team on offense does not score but punts or turns the ball over, the sequence will continue with the other team now on offense. The sequence will continue until either one team scores, or the half comes to an end. From this, a sequence begins at kickoff and ends at the next kick off. When Team A kicks off to Team B to start drive #4, we start our next sequence, which will end either with one team scoring or at the end of the half.</p>
<p>Why model the outcome of sequences rather than individual drives? Individual plays have the potential to affect both team’s chances of scoring, positively or negatively, and we want our model to directly capture this. If an offense turns the ball over at midfield, they are not only hurting their own chances of scoring, they are increasing the other team’s chance of scoring. The value of a play in terms of expected points is function of how both team’s probabilities are affected by the result of the play.</p>
</section>
<section id="defining-expected-points" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="defining-expected-points"><span class="header-section-number">1.2</span> Defining Expected Points</h2>
<p>A team’s expected points is sum of the probability of each possible scoring event multiplied by the points of that event. For this analysis, I assume that touchdowns equate to 7 rather than 6 points, assuming that extra points will be made. I can later bake in the actual probability of making extra points, but this will be a simplification for now.</p>
<p>For a given play <span class="math inline">\(i\)</span> for Team <span class="math inline">\(A\)</span> facing Team <span class="math inline">\(B\)</span>, we can compute Team A’s expected points using the following:</p>
<p><span class="math display">\[\begin{align*}
{Expected Points}_A = \\
Pr(TD_A)*7 \\
+ Pr(FG_A)*3 \\
+ Pr(Safety_A)*2 \\
+ Pr(No Score)*0 \\
+ Pr(Safety_B)*-2 \\
+ Pr(FG_B) * -3\\
+ Pr(TD_B) * -7
\end{align*}\]</span></p>
<p>How do we get the probabilities of each scoring event? We learn these from historical data by using a model - I train a multinomial logistic regression model on many seasons worth of college football plays to learn how situations on the field affect the probability of the next scoring event.</p>
</section>
<section id="next-scoring-event" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="next-scoring-event"><span class="header-section-number">1.3</span> Next Scoring Event</h2>
<p>The outcome for our analysis is the <strong>next scoring event</strong>. Each play in a given sequence contributes to the eventual outcome of the sequence. Here we can see an example of one game and its drives:</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>sample_games <span class="ot">=</span> <span class="fu">tibble</span>(<span class="at">game_id =</span> <span class="dv">322520245</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>cfbd_drives_tbl <span class="sc">|&gt;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">inner_join</span>(sample_games) <span class="sc">|&gt;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(season, game_id, offense, defense, drive_number, drive_result) <span class="sc">|&gt;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gt_tbl</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="wpjbltqcno" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#wpjbltqcno table {
  font-family: Lato, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#wpjbltqcno thead, #wpjbltqcno tbody, #wpjbltqcno tfoot, #wpjbltqcno tr, #wpjbltqcno td, #wpjbltqcno th {
  border-style: none;
}

#wpjbltqcno p {
  margin: 0;
  padding: 0;
}

#wpjbltqcno .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #FFFFFF;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#wpjbltqcno .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#wpjbltqcno .gt_title {
  color: #333333;
  font-size: 24px;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#wpjbltqcno .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#wpjbltqcno .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wpjbltqcno .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wpjbltqcno .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wpjbltqcno .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#wpjbltqcno .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#wpjbltqcno .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#wpjbltqcno .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#wpjbltqcno .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#wpjbltqcno .gt_spanner_row {
  border-bottom-style: hidden;
}

#wpjbltqcno .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#wpjbltqcno .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#wpjbltqcno .gt_from_md > :first-child {
  margin-top: 0;
}

#wpjbltqcno .gt_from_md > :last-child {
  margin-bottom: 0;
}

#wpjbltqcno .gt_row {
  padding-top: 7px;
  padding-bottom: 7px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #F6F7F7;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#wpjbltqcno .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#wpjbltqcno .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#wpjbltqcno .gt_row_group_first td {
  border-top-width: 2px;
}

#wpjbltqcno .gt_row_group_first th {
  border-top-width: 2px;
}

#wpjbltqcno .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wpjbltqcno .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#wpjbltqcno .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#wpjbltqcno .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wpjbltqcno .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wpjbltqcno .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#wpjbltqcno .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#wpjbltqcno .gt_striped {
  background-color: #FAFAFA;
}

#wpjbltqcno .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wpjbltqcno .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wpjbltqcno .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#wpjbltqcno .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wpjbltqcno .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#wpjbltqcno .gt_left {
  text-align: left;
}

#wpjbltqcno .gt_center {
  text-align: center;
}

#wpjbltqcno .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#wpjbltqcno .gt_font_normal {
  font-weight: normal;
}

#wpjbltqcno .gt_font_bold {
  font-weight: bold;
}

#wpjbltqcno .gt_font_italic {
  font-style: italic;
}

#wpjbltqcno .gt_super {
  font-size: 65%;
}

#wpjbltqcno .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#wpjbltqcno .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#wpjbltqcno .gt_indent_1 {
  text-indent: 5px;
}

#wpjbltqcno .gt_indent_2 {
  text-indent: 10px;
}

#wpjbltqcno .gt_indent_3 {
  text-indent: 15px;
}

#wpjbltqcno .gt_indent_4 {
  text-indent: 20px;
}

#wpjbltqcno .gt_indent_5 {
  text-indent: 25px;
}

#wpjbltqcno .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#wpjbltqcno div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="season">season</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="game_id">game_id</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="offense">offense</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="defense">defense</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="drive_number">drive_number</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="drive_result">drive_result</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="season" class="gt_row gt_right">2012</td>
<td headers="game_id" class="gt_row gt_right">322520245</td>
<td headers="offense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="defense" class="gt_row gt_left">Florida</td>
<td headers="drive_number" class="gt_row gt_right">1</td>
<td headers="drive_result" class="gt_row gt_left">FG GOOD</td></tr>
    <tr><td headers="season" class="gt_row gt_right gt_striped">2012</td>
<td headers="game_id" class="gt_row gt_right gt_striped">322520245</td>
<td headers="offense" class="gt_row gt_left gt_striped">Florida</td>
<td headers="defense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="drive_number" class="gt_row gt_right gt_striped">2</td>
<td headers="drive_result" class="gt_row gt_left gt_striped">RUSHING TD</td></tr>
    <tr><td headers="season" class="gt_row gt_right">2012</td>
<td headers="game_id" class="gt_row gt_right">322520245</td>
<td headers="offense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="defense" class="gt_row gt_left">Florida</td>
<td headers="drive_number" class="gt_row gt_right">3</td>
<td headers="drive_result" class="gt_row gt_left">RUSHING TD</td></tr>
    <tr><td headers="season" class="gt_row gt_right gt_striped">2012</td>
<td headers="game_id" class="gt_row gt_right gt_striped">322520245</td>
<td headers="offense" class="gt_row gt_left gt_striped">Florida</td>
<td headers="defense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="drive_number" class="gt_row gt_right gt_striped">4</td>
<td headers="drive_result" class="gt_row gt_left gt_striped">PUNT</td></tr>
    <tr><td headers="season" class="gt_row gt_right">2012</td>
<td headers="game_id" class="gt_row gt_right">322520245</td>
<td headers="offense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="defense" class="gt_row gt_left">Florida</td>
<td headers="drive_number" class="gt_row gt_right">5</td>
<td headers="drive_result" class="gt_row gt_left">RUSHING TD</td></tr>
    <tr><td headers="season" class="gt_row gt_right gt_striped">2012</td>
<td headers="game_id" class="gt_row gt_right gt_striped">322520245</td>
<td headers="offense" class="gt_row gt_left gt_striped">Florida</td>
<td headers="defense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="drive_number" class="gt_row gt_right gt_striped">6</td>
<td headers="drive_result" class="gt_row gt_left gt_striped">FG GOOD</td></tr>
    <tr><td headers="season" class="gt_row gt_right">2012</td>
<td headers="game_id" class="gt_row gt_right">322520245</td>
<td headers="offense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="defense" class="gt_row gt_left">Florida</td>
<td headers="drive_number" class="gt_row gt_right">7</td>
<td headers="drive_result" class="gt_row gt_left">END OF HALF</td></tr>
    <tr><td headers="season" class="gt_row gt_right gt_striped">2012</td>
<td headers="game_id" class="gt_row gt_right gt_striped">322520245</td>
<td headers="offense" class="gt_row gt_left gt_striped">Florida</td>
<td headers="defense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="drive_number" class="gt_row gt_right gt_striped">8</td>
<td headers="drive_result" class="gt_row gt_left gt_striped">FG GOOD</td></tr>
    <tr><td headers="season" class="gt_row gt_right">2012</td>
<td headers="game_id" class="gt_row gt_right">322520245</td>
<td headers="offense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="defense" class="gt_row gt_left">Florida</td>
<td headers="drive_number" class="gt_row gt_right">9</td>
<td headers="drive_result" class="gt_row gt_left">PUNT</td></tr>
    <tr><td headers="season" class="gt_row gt_right gt_striped">2012</td>
<td headers="game_id" class="gt_row gt_right gt_striped">322520245</td>
<td headers="offense" class="gt_row gt_left gt_striped">Florida</td>
<td headers="defense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="drive_number" class="gt_row gt_right gt_striped">10</td>
<td headers="drive_result" class="gt_row gt_left gt_striped">PUNT</td></tr>
    <tr><td headers="season" class="gt_row gt_right">2012</td>
<td headers="game_id" class="gt_row gt_right">322520245</td>
<td headers="offense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="defense" class="gt_row gt_left">Florida</td>
<td headers="drive_number" class="gt_row gt_right">11</td>
<td headers="drive_result" class="gt_row gt_left">PUNT</td></tr>
    <tr><td headers="season" class="gt_row gt_right gt_striped">2012</td>
<td headers="game_id" class="gt_row gt_right gt_striped">322520245</td>
<td headers="offense" class="gt_row gt_left gt_striped">Florida</td>
<td headers="defense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="drive_number" class="gt_row gt_right gt_striped">12</td>
<td headers="drive_result" class="gt_row gt_left gt_striped">PUNT</td></tr>
    <tr><td headers="season" class="gt_row gt_right">2012</td>
<td headers="game_id" class="gt_row gt_right">322520245</td>
<td headers="offense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="defense" class="gt_row gt_left">Florida</td>
<td headers="drive_number" class="gt_row gt_right">13</td>
<td headers="drive_result" class="gt_row gt_left">PUNT</td></tr>
    <tr><td headers="season" class="gt_row gt_right gt_striped">2012</td>
<td headers="game_id" class="gt_row gt_right gt_striped">322520245</td>
<td headers="offense" class="gt_row gt_left gt_striped">Florida</td>
<td headers="defense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="drive_number" class="gt_row gt_right gt_striped">14</td>
<td headers="drive_result" class="gt_row gt_left gt_striped">RUSHING TD</td></tr>
    <tr><td headers="season" class="gt_row gt_right">2012</td>
<td headers="game_id" class="gt_row gt_right">322520245</td>
<td headers="offense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="defense" class="gt_row gt_left">Florida</td>
<td headers="drive_number" class="gt_row gt_right">15</td>
<td headers="drive_result" class="gt_row gt_left">PUNT</td></tr>
    <tr><td headers="season" class="gt_row gt_right gt_striped">2012</td>
<td headers="game_id" class="gt_row gt_right gt_striped">322520245</td>
<td headers="offense" class="gt_row gt_left gt_striped">Florida</td>
<td headers="defense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="drive_number" class="gt_row gt_right gt_striped">16</td>
<td headers="drive_result" class="gt_row gt_left gt_striped">PUNT</td></tr>
    <tr><td headers="season" class="gt_row gt_right">2012</td>
<td headers="game_id" class="gt_row gt_right">322520245</td>
<td headers="offense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="defense" class="gt_row gt_left">Florida</td>
<td headers="drive_number" class="gt_row gt_right">17</td>
<td headers="drive_result" class="gt_row gt_left">FUMBLE</td></tr>
    <tr><td headers="season" class="gt_row gt_right gt_striped">2012</td>
<td headers="game_id" class="gt_row gt_right gt_striped">322520245</td>
<td headers="offense" class="gt_row gt_left gt_striped">Florida</td>
<td headers="defense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="drive_number" class="gt_row gt_right gt_striped">18</td>
<td headers="drive_result" class="gt_row gt_left gt_striped">PUNT</td></tr>
    <tr><td headers="season" class="gt_row gt_right">2012</td>
<td headers="game_id" class="gt_row gt_right">322520245</td>
<td headers="offense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="defense" class="gt_row gt_left">Florida</td>
<td headers="drive_number" class="gt_row gt_right">19</td>
<td headers="drive_result" class="gt_row gt_left">PUNT</td></tr>
    <tr><td headers="season" class="gt_row gt_right gt_striped">2012</td>
<td headers="game_id" class="gt_row gt_right gt_striped">322520245</td>
<td headers="offense" class="gt_row gt_left gt_striped">Florida</td>
<td headers="defense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="drive_number" class="gt_row gt_right gt_striped">20</td>
<td headers="drive_result" class="gt_row gt_left gt_striped">END OF HALF</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>For this game, we can filter to the plays that took place in the lead up to first score event. In this case, the first sequence included one drive and ended when Texas A&amp;M kicked a field goal.</p>
<div class="cell scroll">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># function to display plays in a drive</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>drive_plays_tbl <span class="ot">&lt;-</span> <span class="cf">function</span>(data) {</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    data <span class="sc">|&gt;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(season, game_id, offense, defense, drive_number, down, distance, yards_to_goal, play_text, next_score_event_offense) <span class="sc">|&gt;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(season, game_id, drive_number) <span class="sc">|&gt;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gt_tbl</span>() <span class="sc">|&gt;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    gt<span class="sc">::</span><span class="fu">cols_label</span>(<span class="at">next_score_event_offense =</span> <span class="st">"next_score_event"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    gt<span class="sc">::</span><span class="fu">cols_align</span>(<span class="at">columns =</span> <span class="fu">c</span>(<span class="st">"offense"</span>, <span class="st">"defense"</span>, <span class="st">"down"</span>, <span class="st">"distance"</span>, <span class="st">"yards_to_goal"</span>), <span class="at">align =</span> <span class="st">"center"</span>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co"># show first drive</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>prepared_pbp <span class="sc">|&gt;</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(sample_games) <span class="sc">|&gt;</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(drive_number <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drive_plays_tbl</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="lbghubzstj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#lbghubzstj table {
  font-family: Lato, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#lbghubzstj thead, #lbghubzstj tbody, #lbghubzstj tfoot, #lbghubzstj tr, #lbghubzstj td, #lbghubzstj th {
  border-style: none;
}

#lbghubzstj p {
  margin: 0;
  padding: 0;
}

#lbghubzstj .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #FFFFFF;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#lbghubzstj .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#lbghubzstj .gt_title {
  color: #333333;
  font-size: 24px;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#lbghubzstj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#lbghubzstj .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lbghubzstj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lbghubzstj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lbghubzstj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#lbghubzstj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#lbghubzstj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#lbghubzstj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#lbghubzstj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#lbghubzstj .gt_spanner_row {
  border-bottom-style: hidden;
}

#lbghubzstj .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#lbghubzstj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#lbghubzstj .gt_from_md > :first-child {
  margin-top: 0;
}

#lbghubzstj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#lbghubzstj .gt_row {
  padding-top: 7px;
  padding-bottom: 7px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #F6F7F7;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#lbghubzstj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#lbghubzstj .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#lbghubzstj .gt_row_group_first td {
  border-top-width: 2px;
}

#lbghubzstj .gt_row_group_first th {
  border-top-width: 2px;
}

#lbghubzstj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lbghubzstj .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#lbghubzstj .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#lbghubzstj .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lbghubzstj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lbghubzstj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#lbghubzstj .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#lbghubzstj .gt_striped {
  background-color: #FAFAFA;
}

#lbghubzstj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lbghubzstj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lbghubzstj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#lbghubzstj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lbghubzstj .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#lbghubzstj .gt_left {
  text-align: left;
}

#lbghubzstj .gt_center {
  text-align: center;
}

#lbghubzstj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#lbghubzstj .gt_font_normal {
  font-weight: normal;
}

#lbghubzstj .gt_font_bold {
  font-weight: bold;
}

#lbghubzstj .gt_font_italic {
  font-style: italic;
}

#lbghubzstj .gt_super {
  font-size: 65%;
}

#lbghubzstj .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#lbghubzstj .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#lbghubzstj .gt_indent_1 {
  text-indent: 5px;
}

#lbghubzstj .gt_indent_2 {
  text-indent: 10px;
}

#lbghubzstj .gt_indent_3 {
  text-indent: 15px;
}

#lbghubzstj .gt_indent_4 {
  text-indent: 20px;
}

#lbghubzstj .gt_indent_5 {
  text-indent: 25px;
}

#lbghubzstj .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#lbghubzstj div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="offense">offense</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="defense">defense</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="down">down</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="distance">distance</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="yards_to_goal">yards_to_goal</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="play_text">play_text</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="next_score_event_offense">next_score_event</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="2012 - 322520245 - 1">2012 - 322520245 - 1</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center">1</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center">10</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center">75</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left">TEXAS A&amp;M penalty 5 yard False Start on Patrick Lewis accepted.</td>
<td headers="2012 - 322520245 - 1  next_score_event_offense" class="gt_row gt_center">FG</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center gt_striped">1</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center gt_striped">15</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center gt_striped">80</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left gt_striped">Christine Michael rush for no gain to the TexAM 20.</td>
<td headers="2012 - 322520245 - 1  next_score_event_offense" class="gt_row gt_center gt_striped">FG</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center">2</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center">15</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center">80</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left">Johnny Manziel pass complete to Ryan Swope for a loss of 2 yards to the TexAM 18.</td>
<td headers="2012 - 322520245 - 1  next_score_event_offense" class="gt_row gt_center">FG</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center gt_striped">3</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center gt_striped">17</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center gt_striped">82</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left gt_striped">Johnny Manziel rush for 16 yards to the 50 yard line, FLORIDA penalty 16 yard Personal Foul accepted for a 1ST down.</td>
<td headers="2012 - 322520245 - 1  next_score_event_offense" class="gt_row gt_center gt_striped">FG</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center">1</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center">10</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center">50</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left">Johnny Manziel pass complete to Kenric McNeal for 8 yards to the Fla 42.</td>
<td headers="2012 - 322520245 - 1  next_score_event_offense" class="gt_row gt_center">FG</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center gt_striped">2</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center gt_striped">2</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center gt_striped">42</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left gt_striped">Christine Michael rush for 2 yards to the Fla 40 for a 1ST down.</td>
<td headers="2012 - 322520245 - 1  next_score_event_offense" class="gt_row gt_center gt_striped">FG</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center">1</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center">10</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center">40</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left">Johnny Manziel pass complete to Kenric McNeal for 3 yards to the Fla 37.</td>
<td headers="2012 - 322520245 - 1  next_score_event_offense" class="gt_row gt_center">FG</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center gt_striped">2</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center gt_striped">7</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center gt_striped">37</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left gt_striped">Christine Michael rush for 6 yards to the Fla 31.</td>
<td headers="2012 - 322520245 - 1  next_score_event_offense" class="gt_row gt_center gt_striped">FG</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center">3</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center">1</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center">31</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left">Christine Michael rush for no gain to the Fla 31.</td>
<td headers="2012 - 322520245 - 1  next_score_event_offense" class="gt_row gt_center">FG</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center gt_striped">4</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center gt_striped">1</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center gt_striped">31</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left gt_striped">Johnny Manziel pass complete to Nehemiah Hicks for 8 yards to the Fla 23 for a 1ST down.</td>
<td headers="2012 - 322520245 - 1  next_score_event_offense" class="gt_row gt_center gt_striped">FG</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center">1</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center">10</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center">23</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left">Johnny Manziel pass complete to Ryan Swope for 2 yards to the Fla 21.</td>
<td headers="2012 - 322520245 - 1  next_score_event_offense" class="gt_row gt_center">FG</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center gt_striped">2</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center gt_striped">8</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center gt_striped">21</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left gt_striped">Johnny Manziel pass complete to Christine Michael for 14 yards to the Fla 7 for a 1ST down.</td>
<td headers="2012 - 322520245 - 1  next_score_event_offense" class="gt_row gt_center gt_striped">FG</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center">1</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center">7</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center">7</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left">Johnny Manziel pass incomplete to Kenric McNeal, broken up by Matt Elam.</td>
<td headers="2012 - 322520245 - 1  next_score_event_offense" class="gt_row gt_center">FG</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center gt_striped">2</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center gt_striped">7</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center gt_striped">7</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left gt_striped">Johnny Manziel pass incomplete to Mike Evans, broken up by Marcus Roberson.</td>
<td headers="2012 - 322520245 - 1  next_score_event_offense" class="gt_row gt_center gt_striped">FG</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center">3</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center">7</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center">7</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left">Johnny Manziel rush for 3 yards to the Fla 9, TEXAS A&amp;M penalty 5 yard Illegal Forward Pass on Johnny Manziel accepted.</td>
<td headers="2012 - 322520245 - 1  next_score_event_offense" class="gt_row gt_center">FG</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center gt_striped">4</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center gt_striped">9</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center gt_striped">9</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left gt_striped">Taylor Bertolet 27 yard field goal GOOD.</td>
<td headers="2012 - 322520245 - 1  next_score_event_offense" class="gt_row gt_center gt_striped">FG</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>If we look at another sequence in the second half, we can see there were multiple drives before a team was able to score in that sequence.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The next scoring event is always defined from the perspective of the offense.</p>
</div>
</div>
<div class="cell scroll">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>prepared_pbp <span class="sc">|&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">inner_join</span>(sample_games) <span class="sc">|&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(drive_number <span class="sc">&gt;</span> <span class="dv">8</span> <span class="sc">&amp;</span> drive_number <span class="sc">&lt;</span> <span class="dv">15</span>) <span class="sc">|&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">drive_plays_tbl</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="ngguqivypc" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#ngguqivypc table {
  font-family: Lato, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ngguqivypc thead, #ngguqivypc tbody, #ngguqivypc tfoot, #ngguqivypc tr, #ngguqivypc td, #ngguqivypc th {
  border-style: none;
}

#ngguqivypc p {
  margin: 0;
  padding: 0;
}

#ngguqivypc .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #FFFFFF;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ngguqivypc .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ngguqivypc .gt_title {
  color: #333333;
  font-size: 24px;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ngguqivypc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ngguqivypc .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ngguqivypc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ngguqivypc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ngguqivypc .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ngguqivypc .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ngguqivypc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ngguqivypc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ngguqivypc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ngguqivypc .gt_spanner_row {
  border-bottom-style: hidden;
}

#ngguqivypc .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ngguqivypc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ngguqivypc .gt_from_md > :first-child {
  margin-top: 0;
}

#ngguqivypc .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ngguqivypc .gt_row {
  padding-top: 7px;
  padding-bottom: 7px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #F6F7F7;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ngguqivypc .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ngguqivypc .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ngguqivypc .gt_row_group_first td {
  border-top-width: 2px;
}

#ngguqivypc .gt_row_group_first th {
  border-top-width: 2px;
}

#ngguqivypc .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ngguqivypc .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ngguqivypc .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ngguqivypc .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ngguqivypc .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ngguqivypc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ngguqivypc .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ngguqivypc .gt_striped {
  background-color: #FAFAFA;
}

#ngguqivypc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ngguqivypc .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ngguqivypc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ngguqivypc .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ngguqivypc .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ngguqivypc .gt_left {
  text-align: left;
}

#ngguqivypc .gt_center {
  text-align: center;
}

#ngguqivypc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ngguqivypc .gt_font_normal {
  font-weight: normal;
}

#ngguqivypc .gt_font_bold {
  font-weight: bold;
}

#ngguqivypc .gt_font_italic {
  font-style: italic;
}

#ngguqivypc .gt_super {
  font-size: 65%;
}

#ngguqivypc .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ngguqivypc .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ngguqivypc .gt_indent_1 {
  text-indent: 5px;
}

#ngguqivypc .gt_indent_2 {
  text-indent: 10px;
}

#ngguqivypc .gt_indent_3 {
  text-indent: 15px;
}

#ngguqivypc .gt_indent_4 {
  text-indent: 20px;
}

#ngguqivypc .gt_indent_5 {
  text-indent: 25px;
}

#ngguqivypc .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#ngguqivypc div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="offense">offense</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="defense">defense</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="down">down</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="distance">distance</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="yards_to_goal">yards_to_goal</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="play_text">play_text</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="next_score_event_offense">next_score_event</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="2012 - 322520245 - 9">2012 - 322520245 - 9</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="2012 - 322520245 - 9  offense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 9  defense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 9  down" class="gt_row gt_center">1</td>
<td headers="2012 - 322520245 - 9  distance" class="gt_row gt_center">10</td>
<td headers="2012 - 322520245 - 9  yards_to_goal" class="gt_row gt_center">73</td>
<td headers="2012 - 322520245 - 9  play_text" class="gt_row gt_left">Christine Michael rush for 6 yards to the TexAM 33.</td>
<td headers="2012 - 322520245 - 9  next_score_event_offense" class="gt_row gt_center">Opp_TD</td></tr>
    <tr><td headers="2012 - 322520245 - 9  offense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 9  defense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 9  down" class="gt_row gt_center gt_striped">2</td>
<td headers="2012 - 322520245 - 9  distance" class="gt_row gt_center gt_striped">4</td>
<td headers="2012 - 322520245 - 9  yards_to_goal" class="gt_row gt_center gt_striped">67</td>
<td headers="2012 - 322520245 - 9  play_text" class="gt_row gt_left gt_striped">Christine Michael rush for 1 yard to the TexAM 34.</td>
<td headers="2012 - 322520245 - 9  next_score_event_offense" class="gt_row gt_center gt_striped">Opp_TD</td></tr>
    <tr><td headers="2012 - 322520245 - 9  offense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 9  defense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 9  down" class="gt_row gt_center">3</td>
<td headers="2012 - 322520245 - 9  distance" class="gt_row gt_center">3</td>
<td headers="2012 - 322520245 - 9  yards_to_goal" class="gt_row gt_center">66</td>
<td headers="2012 - 322520245 - 9  play_text" class="gt_row gt_left">Johnny Manziel pass complete to Mike Evans for 1 yard to the TexAM 35.</td>
<td headers="2012 - 322520245 - 9  next_score_event_offense" class="gt_row gt_center">Opp_TD</td></tr>
    <tr><td headers="2012 - 322520245 - 9  offense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 9  defense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 9  down" class="gt_row gt_center gt_striped">4</td>
<td headers="2012 - 322520245 - 9  distance" class="gt_row gt_center gt_striped">2</td>
<td headers="2012 - 322520245 - 9  yards_to_goal" class="gt_row gt_center gt_striped">65</td>
<td headers="2012 - 322520245 - 9  play_text" class="gt_row gt_left gt_striped">Ryan Epperson punt for 42 yards, fair catch by Andre Debose at the Fla 23.</td>
<td headers="2012 - 322520245 - 9  next_score_event_offense" class="gt_row gt_center gt_striped">Opp_TD</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="2012 - 322520245 - 10">2012 - 322520245 - 10</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="2012 - 322520245 - 10  offense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 10  defense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 10  down" class="gt_row gt_center">1</td>
<td headers="2012 - 322520245 - 10  distance" class="gt_row gt_center">10</td>
<td headers="2012 - 322520245 - 10  yards_to_goal" class="gt_row gt_center">77</td>
<td headers="2012 - 322520245 - 10  play_text" class="gt_row gt_left">Jeff Driskel pass complete to Frankie Hammond for 10 yards to the Fla 33 for a 1ST down.</td>
<td headers="2012 - 322520245 - 10  next_score_event_offense" class="gt_row gt_center">TD</td></tr>
    <tr><td headers="2012 - 322520245 - 10  offense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 10  defense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 10  down" class="gt_row gt_center gt_striped">1</td>
<td headers="2012 - 322520245 - 10  distance" class="gt_row gt_center gt_striped">10</td>
<td headers="2012 - 322520245 - 10  yards_to_goal" class="gt_row gt_center gt_striped">67</td>
<td headers="2012 - 322520245 - 10  play_text" class="gt_row gt_left gt_striped">Mike Gillislee rush for 4 yards to the Fla 37.</td>
<td headers="2012 - 322520245 - 10  next_score_event_offense" class="gt_row gt_center gt_striped">TD</td></tr>
    <tr><td headers="2012 - 322520245 - 10  offense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 10  defense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 10  down" class="gt_row gt_center">2</td>
<td headers="2012 - 322520245 - 10  distance" class="gt_row gt_center">6</td>
<td headers="2012 - 322520245 - 10  yards_to_goal" class="gt_row gt_center">63</td>
<td headers="2012 - 322520245 - 10  play_text" class="gt_row gt_left">Jeff Driskel pass complete to Omarius Hines for 7 yards to the Fla 44 for a 1ST down.</td>
<td headers="2012 - 322520245 - 10  next_score_event_offense" class="gt_row gt_center">TD</td></tr>
    <tr><td headers="2012 - 322520245 - 10  offense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 10  defense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 10  down" class="gt_row gt_center gt_striped">1</td>
<td headers="2012 - 322520245 - 10  distance" class="gt_row gt_center gt_striped">10</td>
<td headers="2012 - 322520245 - 10  yards_to_goal" class="gt_row gt_center gt_striped">56</td>
<td headers="2012 - 322520245 - 10  play_text" class="gt_row gt_left gt_striped">Mike Gillislee rush for 3 yards to the Fla 47.</td>
<td headers="2012 - 322520245 - 10  next_score_event_offense" class="gt_row gt_center gt_striped">TD</td></tr>
    <tr><td headers="2012 - 322520245 - 10  offense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 10  defense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 10  down" class="gt_row gt_center">2</td>
<td headers="2012 - 322520245 - 10  distance" class="gt_row gt_center">7</td>
<td headers="2012 - 322520245 - 10  yards_to_goal" class="gt_row gt_center">53</td>
<td headers="2012 - 322520245 - 10  play_text" class="gt_row gt_left">Jeff Driskel sacked by Spencer Nealy for a loss of 1 yard to the Fla 46.</td>
<td headers="2012 - 322520245 - 10  next_score_event_offense" class="gt_row gt_center">TD</td></tr>
    <tr><td headers="2012 - 322520245 - 10  offense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 10  defense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 10  down" class="gt_row gt_center gt_striped">3</td>
<td headers="2012 - 322520245 - 10  distance" class="gt_row gt_center gt_striped">8</td>
<td headers="2012 - 322520245 - 10  yards_to_goal" class="gt_row gt_center gt_striped">54</td>
<td headers="2012 - 322520245 - 10  play_text" class="gt_row gt_left gt_striped">Jeff Driskel sacked by Sean Porter and Damontre Moore for a loss of 12 yards to the Fla 34.</td>
<td headers="2012 - 322520245 - 10  next_score_event_offense" class="gt_row gt_center gt_striped">TD</td></tr>
    <tr><td headers="2012 - 322520245 - 10  offense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 10  defense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 10  down" class="gt_row gt_center">4</td>
<td headers="2012 - 322520245 - 10  distance" class="gt_row gt_center">20</td>
<td headers="2012 - 322520245 - 10  yards_to_goal" class="gt_row gt_center">66</td>
<td headers="2012 - 322520245 - 10  play_text" class="gt_row gt_left">Kyle Christy punt for 48 yards, fair catch by Dustin Harris at the TexAM 18.</td>
<td headers="2012 - 322520245 - 10  next_score_event_offense" class="gt_row gt_center">TD</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="2012 - 322520245 - 11">2012 - 322520245 - 11</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="2012 - 322520245 - 11  offense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 11  defense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 11  down" class="gt_row gt_center gt_striped">1</td>
<td headers="2012 - 322520245 - 11  distance" class="gt_row gt_center gt_striped">10</td>
<td headers="2012 - 322520245 - 11  yards_to_goal" class="gt_row gt_center gt_striped">82</td>
<td headers="2012 - 322520245 - 11  play_text" class="gt_row gt_left gt_striped">Johnny Manziel pass complete to Mike Evans for a loss of 2 yards to the TexAM 16.</td>
<td headers="2012 - 322520245 - 11  next_score_event_offense" class="gt_row gt_center gt_striped">Opp_TD</td></tr>
    <tr><td headers="2012 - 322520245 - 11  offense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 11  defense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 11  down" class="gt_row gt_center">2</td>
<td headers="2012 - 322520245 - 11  distance" class="gt_row gt_center">12</td>
<td headers="2012 - 322520245 - 11  yards_to_goal" class="gt_row gt_center">84</td>
<td headers="2012 - 322520245 - 11  play_text" class="gt_row gt_left">Trey Williams rush for a loss of 2 yards to the TexAM 14.</td>
<td headers="2012 - 322520245 - 11  next_score_event_offense" class="gt_row gt_center">Opp_TD</td></tr>
    <tr><td headers="2012 - 322520245 - 11  offense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 11  defense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 11  down" class="gt_row gt_center gt_striped">3</td>
<td headers="2012 - 322520245 - 11  distance" class="gt_row gt_center gt_striped">14</td>
<td headers="2012 - 322520245 - 11  yards_to_goal" class="gt_row gt_center gt_striped">86</td>
<td headers="2012 - 322520245 - 11  play_text" class="gt_row gt_left gt_striped">Johnny Manziel rush for 3 yards to the TexAM 17.</td>
<td headers="2012 - 322520245 - 11  next_score_event_offense" class="gt_row gt_center gt_striped">Opp_TD</td></tr>
    <tr><td headers="2012 - 322520245 - 11  offense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 11  defense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 11  down" class="gt_row gt_center">4</td>
<td headers="2012 - 322520245 - 11  distance" class="gt_row gt_center">11</td>
<td headers="2012 - 322520245 - 11  yards_to_goal" class="gt_row gt_center">83</td>
<td headers="2012 - 322520245 - 11  play_text" class="gt_row gt_left">Ryan Epperson punt for 53 yards, downed at the Fla 30.</td>
<td headers="2012 - 322520245 - 11  next_score_event_offense" class="gt_row gt_center">Opp_TD</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="2012 - 322520245 - 12">2012 - 322520245 - 12</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="2012 - 322520245 - 12  offense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 12  defense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 12  down" class="gt_row gt_center gt_striped">1</td>
<td headers="2012 - 322520245 - 12  distance" class="gt_row gt_center gt_striped">10</td>
<td headers="2012 - 322520245 - 12  yards_to_goal" class="gt_row gt_center gt_striped">70</td>
<td headers="2012 - 322520245 - 12  play_text" class="gt_row gt_left gt_striped">Jeff Driskel pass complete to Jordan Reed for 5 yards to the Fla 35.</td>
<td headers="2012 - 322520245 - 12  next_score_event_offense" class="gt_row gt_center gt_striped">TD</td></tr>
    <tr><td headers="2012 - 322520245 - 12  offense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 12  defense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 12  down" class="gt_row gt_center">2</td>
<td headers="2012 - 322520245 - 12  distance" class="gt_row gt_center">5</td>
<td headers="2012 - 322520245 - 12  yards_to_goal" class="gt_row gt_center">65</td>
<td headers="2012 - 322520245 - 12  play_text" class="gt_row gt_left">Mack Brown rush for no gain to the Fla 35.</td>
<td headers="2012 - 322520245 - 12  next_score_event_offense" class="gt_row gt_center">TD</td></tr>
    <tr><td headers="2012 - 322520245 - 12  offense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 12  defense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 12  down" class="gt_row gt_center gt_striped">3</td>
<td headers="2012 - 322520245 - 12  distance" class="gt_row gt_center gt_striped">5</td>
<td headers="2012 - 322520245 - 12  yards_to_goal" class="gt_row gt_center gt_striped">65</td>
<td headers="2012 - 322520245 - 12  play_text" class="gt_row gt_left gt_striped">Jeff Driskel rush for 14 yards to the Fla 49 for a 1ST down.</td>
<td headers="2012 - 322520245 - 12  next_score_event_offense" class="gt_row gt_center gt_striped">TD</td></tr>
    <tr><td headers="2012 - 322520245 - 12  offense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 12  defense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 12  down" class="gt_row gt_center">1</td>
<td headers="2012 - 322520245 - 12  distance" class="gt_row gt_center">10</td>
<td headers="2012 - 322520245 - 12  yards_to_goal" class="gt_row gt_center">51</td>
<td headers="2012 - 322520245 - 12  play_text" class="gt_row gt_left">Matt Jones rush for 5 yards to the TexAM 46.</td>
<td headers="2012 - 322520245 - 12  next_score_event_offense" class="gt_row gt_center">TD</td></tr>
    <tr><td headers="2012 - 322520245 - 12  offense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 12  defense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 12  down" class="gt_row gt_center gt_striped">2</td>
<td headers="2012 - 322520245 - 12  distance" class="gt_row gt_center gt_striped">5</td>
<td headers="2012 - 322520245 - 12  yards_to_goal" class="gt_row gt_center gt_striped">46</td>
<td headers="2012 - 322520245 - 12  play_text" class="gt_row gt_left gt_striped">Jeff Driskel pass incomplete.</td>
<td headers="2012 - 322520245 - 12  next_score_event_offense" class="gt_row gt_center gt_striped">TD</td></tr>
    <tr><td headers="2012 - 322520245 - 12  offense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 12  defense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 12  down" class="gt_row gt_center">3</td>
<td headers="2012 - 322520245 - 12  distance" class="gt_row gt_center">5</td>
<td headers="2012 - 322520245 - 12  yards_to_goal" class="gt_row gt_center">46</td>
<td headers="2012 - 322520245 - 12  play_text" class="gt_row gt_left">Jeff Driskel rush for no gain to the TexAM 46.</td>
<td headers="2012 - 322520245 - 12  next_score_event_offense" class="gt_row gt_center">TD</td></tr>
    <tr><td headers="2012 - 322520245 - 12  offense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 12  defense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 12  down" class="gt_row gt_center gt_striped">4</td>
<td headers="2012 - 322520245 - 12  distance" class="gt_row gt_center gt_striped">5</td>
<td headers="2012 - 322520245 - 12  yards_to_goal" class="gt_row gt_center gt_striped">46</td>
<td headers="2012 - 322520245 - 12  play_text" class="gt_row gt_left gt_striped">Kyle Christy punt for 37 yards, fair catch by Dustin Harris at the TexAM 9.</td>
<td headers="2012 - 322520245 - 12  next_score_event_offense" class="gt_row gt_center gt_striped">TD</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="2012 - 322520245 - 13">2012 - 322520245 - 13</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="2012 - 322520245 - 13  offense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 13  defense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 13  down" class="gt_row gt_center">1</td>
<td headers="2012 - 322520245 - 13  distance" class="gt_row gt_center">10</td>
<td headers="2012 - 322520245 - 13  yards_to_goal" class="gt_row gt_center">91</td>
<td headers="2012 - 322520245 - 13  play_text" class="gt_row gt_left">Johnny Manziel pass complete to Mike Evans for 14 yards to the TexAM 23 for a 1ST down.</td>
<td headers="2012 - 322520245 - 13  next_score_event_offense" class="gt_row gt_center">Opp_TD</td></tr>
    <tr><td headers="2012 - 322520245 - 13  offense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 13  defense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 13  down" class="gt_row gt_center gt_striped">1</td>
<td headers="2012 - 322520245 - 13  distance" class="gt_row gt_center gt_striped">10</td>
<td headers="2012 - 322520245 - 13  yards_to_goal" class="gt_row gt_center gt_striped">77</td>
<td headers="2012 - 322520245 - 13  play_text" class="gt_row gt_left gt_striped">TEXAS A&amp;M penalty 11 yard Personal Foul on Kenric McNeal accepted.</td>
<td headers="2012 - 322520245 - 13  next_score_event_offense" class="gt_row gt_center gt_striped">Opp_TD</td></tr>
    <tr><td headers="2012 - 322520245 - 13  offense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 13  defense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 13  down" class="gt_row gt_center">1</td>
<td headers="2012 - 322520245 - 13  distance" class="gt_row gt_center">10</td>
<td headers="2012 - 322520245 - 13  yards_to_goal" class="gt_row gt_center">88</td>
<td headers="2012 - 322520245 - 13  play_text" class="gt_row gt_left">Johnny Manziel pass complete to Thomas Johnson for 2 yards to the TexAM 14.</td>
<td headers="2012 - 322520245 - 13  next_score_event_offense" class="gt_row gt_center">Opp_TD</td></tr>
    <tr><td headers="2012 - 322520245 - 13  offense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 13  defense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 13  down" class="gt_row gt_center gt_striped">2</td>
<td headers="2012 - 322520245 - 13  distance" class="gt_row gt_center gt_striped">8</td>
<td headers="2012 - 322520245 - 13  yards_to_goal" class="gt_row gt_center gt_striped">86</td>
<td headers="2012 - 322520245 - 13  play_text" class="gt_row gt_left gt_striped">Johnny Manziel pass complete to Mike Evans for 5 yards to the TexAM 19.</td>
<td headers="2012 - 322520245 - 13  next_score_event_offense" class="gt_row gt_center gt_striped">Opp_TD</td></tr>
    <tr><td headers="2012 - 322520245 - 13  offense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 13  defense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 13  down" class="gt_row gt_center">3</td>
<td headers="2012 - 322520245 - 13  distance" class="gt_row gt_center">3</td>
<td headers="2012 - 322520245 - 13  yards_to_goal" class="gt_row gt_center">81</td>
<td headers="2012 - 322520245 - 13  play_text" class="gt_row gt_left">Johnny Manziel sacked by Lerentee McCray for a loss of 4 yards to the TexAM 15.</td>
<td headers="2012 - 322520245 - 13  next_score_event_offense" class="gt_row gt_center">Opp_TD</td></tr>
    <tr><td headers="2012 - 322520245 - 13  offense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 13  defense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 13  down" class="gt_row gt_center gt_striped">4</td>
<td headers="2012 - 322520245 - 13  distance" class="gt_row gt_center gt_striped">7</td>
<td headers="2012 - 322520245 - 13  yards_to_goal" class="gt_row gt_center gt_striped">85</td>
<td headers="2012 - 322520245 - 13  play_text" class="gt_row gt_left gt_striped">Ryan Epperson punt for 47 yards, fair catch by Andre Debose at the Fla 38.</td>
<td headers="2012 - 322520245 - 13  next_score_event_offense" class="gt_row gt_center gt_striped">Opp_TD</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="2012 - 322520245 - 14">2012 - 322520245 - 14</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="2012 - 322520245 - 14  offense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 14  defense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 14  down" class="gt_row gt_center">1</td>
<td headers="2012 - 322520245 - 14  distance" class="gt_row gt_center">10</td>
<td headers="2012 - 322520245 - 14  yards_to_goal" class="gt_row gt_center">62</td>
<td headers="2012 - 322520245 - 14  play_text" class="gt_row gt_left">Mike Gillislee rush for 5 yards to the Fla 43.</td>
<td headers="2012 - 322520245 - 14  next_score_event_offense" class="gt_row gt_center">TD</td></tr>
    <tr><td headers="2012 - 322520245 - 14  offense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 14  defense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 14  down" class="gt_row gt_center gt_striped">2</td>
<td headers="2012 - 322520245 - 14  distance" class="gt_row gt_center gt_striped">5</td>
<td headers="2012 - 322520245 - 14  yards_to_goal" class="gt_row gt_center gt_striped">57</td>
<td headers="2012 - 322520245 - 14  play_text" class="gt_row gt_left gt_striped">Jeff Driskel pass complete to Omarius Hines for 39 yards to the TexAM 18 for a 1ST down.</td>
<td headers="2012 - 322520245 - 14  next_score_event_offense" class="gt_row gt_center gt_striped">TD</td></tr>
    <tr><td headers="2012 - 322520245 - 14  offense" class="gt_row gt_center">Florida</td>
<td headers="2012 - 322520245 - 14  defense" class="gt_row gt_center">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 14  down" class="gt_row gt_center">1</td>
<td headers="2012 - 322520245 - 14  distance" class="gt_row gt_center">10</td>
<td headers="2012 - 322520245 - 14  yards_to_goal" class="gt_row gt_center">18</td>
<td headers="2012 - 322520245 - 14  play_text" class="gt_row gt_left">Solomon Patton rush for 6 yards to the TexAM 12.</td>
<td headers="2012 - 322520245 - 14  next_score_event_offense" class="gt_row gt_center">TD</td></tr>
    <tr><td headers="2012 - 322520245 - 14  offense" class="gt_row gt_center gt_striped">Florida</td>
<td headers="2012 - 322520245 - 14  defense" class="gt_row gt_center gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 14  down" class="gt_row gt_center gt_striped">2</td>
<td headers="2012 - 322520245 - 14  distance" class="gt_row gt_center gt_striped">4</td>
<td headers="2012 - 322520245 - 14  yards_to_goal" class="gt_row gt_center gt_striped">12</td>
<td headers="2012 - 322520245 - 14  play_text" class="gt_row gt_left gt_striped">Mike Gillislee rush for 12 yards for a TOUCHDOWN.</td>
<td headers="2012 - 322520245 - 14  next_score_event_offense" class="gt_row gt_center gt_striped">TD</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="illustrating-expected-points" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="illustrating-expected-points"><span class="header-section-number">1.4</span> Illustrating Expected Points</h2>
<p>Our goal is to understand how individual plays contribute to a team’s <strong>expected points</strong>, or the average points a team should <em>expect</em> to score <em>on average</em> given their situation (down, time, possession).</p>
<p>For instance, in the first drive of the Texas A&amp;M-Florida game in 2012, Texas A&amp;M received the ball at their own 25 yard line to open the game.</p>
<p>The simplest intuition of expected points is to ask, for teams starting at the 25 yard line at the beginning of a game, how many points do they typically go on to score?</p>
<p>One way to answer this is to look at all starting drives with 75 yards to go and see what the eventual next scoring event was for each of these plays - we simply take the average of all of the points that followed from teams in this situation.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>prepared_pbp <span class="sc">|&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(yards_to_goal <span class="sc">==</span> <span class="dv">75</span> <span class="sc">&amp;</span> drive_number <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(next_score_event_offense, yards_to_goal, drive_number) <span class="sc">|&gt;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(<span class="at">sort =</span> T) <span class="sc">|&gt;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n)) <span class="sc">|&gt;</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_if</span>(is.numeric, round, <span class="dv">3</span>) <span class="sc">|&gt;</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt_tbl</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fpzthcvpwy" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#fpzthcvpwy table {
  font-family: Lato, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#fpzthcvpwy thead, #fpzthcvpwy tbody, #fpzthcvpwy tfoot, #fpzthcvpwy tr, #fpzthcvpwy td, #fpzthcvpwy th {
  border-style: none;
}

#fpzthcvpwy p {
  margin: 0;
  padding: 0;
}

#fpzthcvpwy .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #FFFFFF;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#fpzthcvpwy .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#fpzthcvpwy .gt_title {
  color: #333333;
  font-size: 24px;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#fpzthcvpwy .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#fpzthcvpwy .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fpzthcvpwy .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fpzthcvpwy .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fpzthcvpwy .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#fpzthcvpwy .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#fpzthcvpwy .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#fpzthcvpwy .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#fpzthcvpwy .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#fpzthcvpwy .gt_spanner_row {
  border-bottom-style: hidden;
}

#fpzthcvpwy .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#fpzthcvpwy .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#fpzthcvpwy .gt_from_md > :first-child {
  margin-top: 0;
}

#fpzthcvpwy .gt_from_md > :last-child {
  margin-bottom: 0;
}

#fpzthcvpwy .gt_row {
  padding-top: 7px;
  padding-bottom: 7px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #F6F7F7;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#fpzthcvpwy .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#fpzthcvpwy .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#fpzthcvpwy .gt_row_group_first td {
  border-top-width: 2px;
}

#fpzthcvpwy .gt_row_group_first th {
  border-top-width: 2px;
}

#fpzthcvpwy .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fpzthcvpwy .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#fpzthcvpwy .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#fpzthcvpwy .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fpzthcvpwy .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fpzthcvpwy .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#fpzthcvpwy .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#fpzthcvpwy .gt_striped {
  background-color: #FAFAFA;
}

#fpzthcvpwy .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fpzthcvpwy .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fpzthcvpwy .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fpzthcvpwy .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fpzthcvpwy .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fpzthcvpwy .gt_left {
  text-align: left;
}

#fpzthcvpwy .gt_center {
  text-align: center;
}

#fpzthcvpwy .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#fpzthcvpwy .gt_font_normal {
  font-weight: normal;
}

#fpzthcvpwy .gt_font_bold {
  font-weight: bold;
}

#fpzthcvpwy .gt_font_italic {
  font-style: italic;
}

#fpzthcvpwy .gt_super {
  font-size: 65%;
}

#fpzthcvpwy .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#fpzthcvpwy .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#fpzthcvpwy .gt_indent_1 {
  text-indent: 5px;
}

#fpzthcvpwy .gt_indent_2 {
  text-indent: 10px;
}

#fpzthcvpwy .gt_indent_3 {
  text-indent: 15px;
}

#fpzthcvpwy .gt_indent_4 {
  text-indent: 20px;
}

#fpzthcvpwy .gt_indent_5 {
  text-indent: 25px;
}

#fpzthcvpwy .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#fpzthcvpwy div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="next_score_event_offense">next_score_event_offense</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="yards_to_goal">yards_to_goal</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="drive_number">drive_number</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="n">n</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="prop">prop</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="next_score_event_offense" class="gt_row gt_center">TD</td>
<td headers="yards_to_goal" class="gt_row gt_right">75</td>
<td headers="drive_number" class="gt_row gt_right">1</td>
<td headers="n" class="gt_row gt_right">2807</td>
<td headers="prop" class="gt_row gt_right">0.385</td></tr>
    <tr><td headers="next_score_event_offense" class="gt_row gt_center gt_striped">Opp_TD</td>
<td headers="yards_to_goal" class="gt_row gt_right gt_striped">75</td>
<td headers="drive_number" class="gt_row gt_right gt_striped">1</td>
<td headers="n" class="gt_row gt_right gt_striped">2528</td>
<td headers="prop" class="gt_row gt_right gt_striped">0.346</td></tr>
    <tr><td headers="next_score_event_offense" class="gt_row gt_center">FG</td>
<td headers="yards_to_goal" class="gt_row gt_right">75</td>
<td headers="drive_number" class="gt_row gt_right">1</td>
<td headers="n" class="gt_row gt_right">982</td>
<td headers="prop" class="gt_row gt_right">0.135</td></tr>
    <tr><td headers="next_score_event_offense" class="gt_row gt_center gt_striped">Opp_FG</td>
<td headers="yards_to_goal" class="gt_row gt_right gt_striped">75</td>
<td headers="drive_number" class="gt_row gt_right gt_striped">1</td>
<td headers="n" class="gt_row gt_right gt_striped">914</td>
<td headers="prop" class="gt_row gt_right gt_striped">0.125</td></tr>
    <tr><td headers="next_score_event_offense" class="gt_row gt_center">Safety</td>
<td headers="yards_to_goal" class="gt_row gt_right">75</td>
<td headers="drive_number" class="gt_row gt_right">1</td>
<td headers="n" class="gt_row gt_right">25</td>
<td headers="prop" class="gt_row gt_right">0.003</td></tr>
    <tr><td headers="next_score_event_offense" class="gt_row gt_center gt_striped">No_Score</td>
<td headers="yards_to_goal" class="gt_row gt_right gt_striped">75</td>
<td headers="drive_number" class="gt_row gt_right gt_striped">1</td>
<td headers="n" class="gt_row gt_right gt_striped">24</td>
<td headers="prop" class="gt_row gt_right gt_striped">0.003</td></tr>
    <tr><td headers="next_score_event_offense" class="gt_row gt_center">Opp_Safety</td>
<td headers="yards_to_goal" class="gt_row gt_right">75</td>
<td headers="drive_number" class="gt_row gt_right">1</td>
<td headers="n" class="gt_row gt_right">20</td>
<td headers="prop" class="gt_row gt_right">0.003</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>prepared_pbp <span class="sc">|&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(yards_to_goal <span class="sc">==</span> <span class="dv">75</span> <span class="sc">&amp;</span> drive_number <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">expected_points =</span> <span class="fu">round</span>(<span class="fu">mean</span>(next_score_event_offense_diff), <span class="dv">3</span>),</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gt_tbl</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="emrfitdzpx" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#emrfitdzpx table {
  font-family: Lato, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#emrfitdzpx thead, #emrfitdzpx tbody, #emrfitdzpx tfoot, #emrfitdzpx tr, #emrfitdzpx td, #emrfitdzpx th {
  border-style: none;
}

#emrfitdzpx p {
  margin: 0;
  padding: 0;
}

#emrfitdzpx .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #FFFFFF;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#emrfitdzpx .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#emrfitdzpx .gt_title {
  color: #333333;
  font-size: 24px;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#emrfitdzpx .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#emrfitdzpx .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#emrfitdzpx .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#emrfitdzpx .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#emrfitdzpx .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#emrfitdzpx .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#emrfitdzpx .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#emrfitdzpx .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#emrfitdzpx .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#emrfitdzpx .gt_spanner_row {
  border-bottom-style: hidden;
}

#emrfitdzpx .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#emrfitdzpx .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#emrfitdzpx .gt_from_md > :first-child {
  margin-top: 0;
}

#emrfitdzpx .gt_from_md > :last-child {
  margin-bottom: 0;
}

#emrfitdzpx .gt_row {
  padding-top: 7px;
  padding-bottom: 7px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #F6F7F7;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#emrfitdzpx .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#emrfitdzpx .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#emrfitdzpx .gt_row_group_first td {
  border-top-width: 2px;
}

#emrfitdzpx .gt_row_group_first th {
  border-top-width: 2px;
}

#emrfitdzpx .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#emrfitdzpx .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#emrfitdzpx .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#emrfitdzpx .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#emrfitdzpx .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#emrfitdzpx .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#emrfitdzpx .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#emrfitdzpx .gt_striped {
  background-color: #FAFAFA;
}

#emrfitdzpx .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#emrfitdzpx .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#emrfitdzpx .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#emrfitdzpx .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#emrfitdzpx .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#emrfitdzpx .gt_left {
  text-align: left;
}

#emrfitdzpx .gt_center {
  text-align: center;
}

#emrfitdzpx .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#emrfitdzpx .gt_font_normal {
  font-weight: normal;
}

#emrfitdzpx .gt_font_bold {
  font-weight: bold;
}

#emrfitdzpx .gt_font_italic {
  font-style: italic;
}

#emrfitdzpx .gt_super {
  font-size: 65%;
}

#emrfitdzpx .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#emrfitdzpx .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#emrfitdzpx .gt_indent_1 {
  text-indent: 5px;
}

#emrfitdzpx .gt_indent_2 {
  text-indent: 10px;
}

#emrfitdzpx .gt_indent_3 {
  text-indent: 15px;
}

#emrfitdzpx .gt_indent_4 {
  text-indent: 20px;
}

#emrfitdzpx .gt_indent_5 {
  text-indent: 25px;
}

#emrfitdzpx .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#emrfitdzpx div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="expected_points">expected_points</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="n">n</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="expected_points" class="gt_row gt_right">0.297</td>
<td headers="n" class="gt_row gt_right">7300</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>In this case, we find teams with the ball at their own 25 to start the game generally obtained more points on the ensuing sequence than their opponents, so they have a slightly positive expected points.</p>
<p>But, expected points is also a function of the <em>down</em>. If we look at the expected points for a team in this situation in first down vs a team in this situation for fourth down, we should see a drop in their expected points - by the time you hit fourth down, if you haven’t moved from the 25, your expected points drops into the negatives, as you will now be punting the ball back to your opponent and it becomes more probable that they score than you.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>prepared_pbp <span class="sc">|&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(yards_to_goal <span class="sc">==</span> <span class="dv">75</span> <span class="sc">&amp;</span> drive_number <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(yards_to_goal, down) <span class="sc">|&gt;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">expected_points =</span> <span class="fu">mean</span>(next_score_event_offense_diff, <span class="at">na.rm =</span> T),</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate_if</span>(is.numeric, round, <span class="dv">3</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">gt_tbl</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="iuonlqyuaa" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#iuonlqyuaa table {
  font-family: Lato, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#iuonlqyuaa thead, #iuonlqyuaa tbody, #iuonlqyuaa tfoot, #iuonlqyuaa tr, #iuonlqyuaa td, #iuonlqyuaa th {
  border-style: none;
}

#iuonlqyuaa p {
  margin: 0;
  padding: 0;
}

#iuonlqyuaa .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #FFFFFF;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#iuonlqyuaa .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#iuonlqyuaa .gt_title {
  color: #333333;
  font-size: 24px;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#iuonlqyuaa .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#iuonlqyuaa .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#iuonlqyuaa .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#iuonlqyuaa .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#iuonlqyuaa .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#iuonlqyuaa .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#iuonlqyuaa .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#iuonlqyuaa .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#iuonlqyuaa .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#iuonlqyuaa .gt_spanner_row {
  border-bottom-style: hidden;
}

#iuonlqyuaa .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#iuonlqyuaa .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#iuonlqyuaa .gt_from_md > :first-child {
  margin-top: 0;
}

#iuonlqyuaa .gt_from_md > :last-child {
  margin-bottom: 0;
}

#iuonlqyuaa .gt_row {
  padding-top: 7px;
  padding-bottom: 7px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #F6F7F7;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#iuonlqyuaa .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#iuonlqyuaa .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#iuonlqyuaa .gt_row_group_first td {
  border-top-width: 2px;
}

#iuonlqyuaa .gt_row_group_first th {
  border-top-width: 2px;
}

#iuonlqyuaa .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#iuonlqyuaa .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#iuonlqyuaa .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#iuonlqyuaa .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#iuonlqyuaa .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#iuonlqyuaa .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#iuonlqyuaa .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#iuonlqyuaa .gt_striped {
  background-color: #FAFAFA;
}

#iuonlqyuaa .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#iuonlqyuaa .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#iuonlqyuaa .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#iuonlqyuaa .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#iuonlqyuaa .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#iuonlqyuaa .gt_left {
  text-align: left;
}

#iuonlqyuaa .gt_center {
  text-align: center;
}

#iuonlqyuaa .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#iuonlqyuaa .gt_font_normal {
  font-weight: normal;
}

#iuonlqyuaa .gt_font_bold {
  font-weight: bold;
}

#iuonlqyuaa .gt_font_italic {
  font-style: italic;
}

#iuonlqyuaa .gt_super {
  font-size: 65%;
}

#iuonlqyuaa .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#iuonlqyuaa .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#iuonlqyuaa .gt_indent_1 {
  text-indent: 5px;
}

#iuonlqyuaa .gt_indent_2 {
  text-indent: 10px;
}

#iuonlqyuaa .gt_indent_3 {
  text-indent: 15px;
}

#iuonlqyuaa .gt_indent_4 {
  text-indent: 20px;
}

#iuonlqyuaa .gt_indent_5 {
  text-indent: 25px;
}

#iuonlqyuaa .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#iuonlqyuaa div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="yards_to_goal">yards_to_goal</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="down">down</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="expected_points">expected_points</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="n">n</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="yards_to_goal" class="gt_row gt_right">75</td>
<td headers="down" class="gt_row gt_right">1</td>
<td headers="expected_points" class="gt_row gt_right">0.617</td>
<td headers="n" class="gt_row gt_right">5487</td></tr>
    <tr><td headers="yards_to_goal" class="gt_row gt_right gt_striped">75</td>
<td headers="down" class="gt_row gt_right gt_striped">2</td>
<td headers="expected_points" class="gt_row gt_right gt_striped">-0.308</td>
<td headers="n" class="gt_row gt_right gt_striped">1164</td></tr>
    <tr><td headers="yards_to_goal" class="gt_row gt_right">75</td>
<td headers="down" class="gt_row gt_right">3</td>
<td headers="expected_points" class="gt_row gt_right">-0.711</td>
<td headers="n" class="gt_row gt_right">429</td></tr>
    <tr><td headers="yards_to_goal" class="gt_row gt_right gt_striped">75</td>
<td headers="down" class="gt_row gt_right gt_striped">4</td>
<td headers="expected_points" class="gt_row gt_right gt_striped">-2.527</td>
<td headers="n" class="gt_row gt_right gt_striped">220</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="expected-point-situations" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="expected-point-situations"><span class="header-section-number">1.5</span> Expected Point Situations</h2>
<p>The fact that expected points changes based on the situation (down, yard line, time remaining) allows us to calculate the <em>difference</em> in expected points from play to play. That is, before the ball is snapped, we ask, what is the expected points given the current situation?</p>
<p>Then the ball is hiked and the play occurs; what is the expected points now? Did it increase or decrease? This difference in expected points from play to play, positive or negative, is what we refer to as Expected Points <em>Added</em>.</p>
<p>For any given play, we get a sense of the expected points a team can expect from their situation. For instance, if we look at all total plays in a game, how do expected points vary as a function of a team’s distance from their opponent’s goal line?</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>prepared_pbp <span class="sc">|&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(yard_line <span class="sc">&lt;</span> <span class="dv">100</span> <span class="sc">&amp;</span> yard_line <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(yards_to_goal) <span class="sc">|&gt;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">expected_points =</span> <span class="fu">mean</span>(next_score_event_offense_diff, <span class="at">na.rm =</span> T),</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(., <span class="fu">aes</span>(</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> yards_to_goal,</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> expected_points</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">yintercept =</span> <span class="dv">0</span>,</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">linetype =</span> <span class="st">"dashed"</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_reverse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="expected_points_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This should make sense - if you’re backed up against your own end zone, your opponent has higher expected points because they are, historically, more likely to have the next scoring event - either by gaining good field advantage after you punt or by getting a safety. We can see this if we just look at the proportion of next scoring events based on the offense’s position on the field.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>prepared_pbp <span class="sc">|&gt;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(yard_line <span class="sc">&lt;</span> <span class="dv">100</span> <span class="sc">&amp;</span> yard_line <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(yards_to_goal, next_score_event_offense) <span class="sc">|&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">|&gt;</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>yards_to_goal, <span class="at">y=</span>n, <span class="at">fill =</span> next_score_event_offense))<span class="sc">+</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">'fill'</span>)<span class="sc">+</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_reverse</span>()<span class="sc">+</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>()<span class="sc">+</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"proportion"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="expected_points_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>From this, when we see an offense move the ball up the field on a given play, we will generally see their expected points go up. The difference in expected points before the snap and after the snap is the value added (positively or negatively) by the play.</p>
<p>But, it’s not just position on the field - it’s also about the situation. If we look at how expected points varies by the down, we should see that fourth downs have lower expected points.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>prepared_pbp <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(yard_line <span class="sc">&lt;</span> <span class="dv">100</span> <span class="sc">&amp;</span> yard_line <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(yards_to_goal, <span class="at">down =</span> <span class="fu">as.character</span>(down)) <span class="sc">|&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">expected_points =</span> <span class="fu">mean</span>(next_score_event_offense_diff, <span class="at">na.rm =</span> T),</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">'drop'</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> yards_to_goal,</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> expected_points,</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> down</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">yintercept =</span> <span class="dv">0</span>,</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">linetype =</span> <span class="st">"dashed"</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_reverse</span>()<span class="sc">+</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis_d</span>()<span class="sc">+</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">size =</span> <span class="st">'none'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="expected_points_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We also have other features like distance and down.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>prepared_pbp <span class="sc">|&gt;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(yard_line <span class="sc">&lt;</span> <span class="dv">100</span> <span class="sc">&amp;</span> yard_line <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(distance <span class="sc">&lt;=</span> <span class="dv">30</span>, distance <span class="sc">&gt;=</span><span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(down, distance, next_score_event_offense) <span class="sc">|&gt;</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">|&gt;</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>distance, <span class="at">y=</span>n, <span class="at">fill =</span> next_score_event_offense))<span class="sc">+</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">'fill'</span>)<span class="sc">+</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>()<span class="sc">+</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(down <span class="sc">~</span>.)<span class="sc">+</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"proportion"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="expected_points_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>And we also have info on time remaining in the half - as we might expect, the proportion of drives leading to no scoring goes up as the amount of time remaining in the half goes down.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>prepared_pbp <span class="sc">|&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(yard_line <span class="sc">&lt;</span> <span class="dv">100</span> <span class="sc">&amp;</span> yard_line <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">seconds_in_half =</span> <span class="fu">round_any</span>(seconds_in_half, <span class="dv">5</span>),</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    next_score_event_offense</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>() <span class="sc">|&gt;</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> seconds_in_half, <span class="at">y =</span> n, <span class="at">fill =</span> next_score_event_offense)) <span class="sc">+</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">"proportion"</span>)<span class="sc">+</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_reverse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="expected_points_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We use all of this historical data to learn the expected points from a given situation, then look at the difference in expected points from play to play - this is the intuition behind how we will value individual plays, which we can then roll up to the offense/defense/game/season level.</p>
</section>
</section>
<section id="modeling-expected-points" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Modeling Expected Points</h1>
<p>How do these various features like down, distance, yards to goal, and time remaining affect the probability of the next scoring event? I use a model to learn this relationship from historical plays.</p>
<p>First, I set up training, validation, and test sets based around the season. I rely on data from the 2007 season onwards, as the data quality of plays starts to get worse the further back we go, though I can later do some backtesting of the model on older seasons.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load in pieces from model</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tar_load</span>(split_pbp)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tar_load</span>(pbp_last_fit)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># get wflow</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>pbp_fit <span class="ot">=</span> pbp_last_fit <span class="sc">|&gt;</span> <span class="fu">extract_workflow</span>()</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co"># show plan</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>split_pbp <span class="sc">|&gt;</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot_split_plan</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="expected_points_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The outcome of interest is <code>next_score_event</code>, which is always defined from the perspective of the offense.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>split_pbp <span class="sc">|&gt;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">validation_set</span>() <span class="sc">|&gt;</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pluck</span>(<span class="st">"splits"</span>, <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pluck</span>(<span class="st">"data"</span>) <span class="sc">|&gt;</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">next_score_event_offense =</span> <span class="fu">factor_class</span>(next_score_event_offense)) <span class="sc">|&gt;</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(season, next_score_event_offense) <span class="sc">|&gt;</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>() <span class="sc">|&gt;</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>n,</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">y=</span><span class="fu">reorder</span>(next_score_event_offense,n),</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> next_score_event_offense))<span class="sc">+</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>()<span class="sc">+</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(season <span class="sc">~</span>.)<span class="sc">+</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>()<span class="sc">+</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(<span class="at">fill =</span> <span class="st">'none'</span>)<span class="sc">+</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">pretty_breaks</span>(<span class="at">n=</span><span class="dv">3</span>))<span class="sc">+</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">"Score Event"</span>)<span class="sc">+</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">"Plays"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="expected_points_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>I train a multinomial logistic regression on the next scoring event for each play (TD, FG, Opp. TD, Opp. FG, etc) as a function of the situation in the game (down, distance, yards to goal). I use the probabilities from this model to compute expected points at the play level, which I then aggregate to the team, game, and season level in order to measure each team’s raw offensive/defensive efficiency.</p>
<p>I examine the model’s performance on the validation set.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>pbp_last_fit <span class="sc">|&gt;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">collect_metrics</span>() <span class="sc">|&gt;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate_if</span>(is.numeric, round, <span class="dv">3</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gt_tbl</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="edbfpyupyg" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#edbfpyupyg table {
  font-family: Lato, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#edbfpyupyg thead, #edbfpyupyg tbody, #edbfpyupyg tfoot, #edbfpyupyg tr, #edbfpyupyg td, #edbfpyupyg th {
  border-style: none;
}

#edbfpyupyg p {
  margin: 0;
  padding: 0;
}

#edbfpyupyg .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #FFFFFF;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#edbfpyupyg .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#edbfpyupyg .gt_title {
  color: #333333;
  font-size: 24px;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#edbfpyupyg .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#edbfpyupyg .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#edbfpyupyg .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#edbfpyupyg .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#edbfpyupyg .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#edbfpyupyg .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#edbfpyupyg .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#edbfpyupyg .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#edbfpyupyg .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#edbfpyupyg .gt_spanner_row {
  border-bottom-style: hidden;
}

#edbfpyupyg .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#edbfpyupyg .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#edbfpyupyg .gt_from_md > :first-child {
  margin-top: 0;
}

#edbfpyupyg .gt_from_md > :last-child {
  margin-bottom: 0;
}

#edbfpyupyg .gt_row {
  padding-top: 7px;
  padding-bottom: 7px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #F6F7F7;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#edbfpyupyg .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#edbfpyupyg .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#edbfpyupyg .gt_row_group_first td {
  border-top-width: 2px;
}

#edbfpyupyg .gt_row_group_first th {
  border-top-width: 2px;
}

#edbfpyupyg .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#edbfpyupyg .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#edbfpyupyg .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#edbfpyupyg .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#edbfpyupyg .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#edbfpyupyg .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#edbfpyupyg .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#edbfpyupyg .gt_striped {
  background-color: #FAFAFA;
}

#edbfpyupyg .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#edbfpyupyg .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#edbfpyupyg .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#edbfpyupyg .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#edbfpyupyg .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#edbfpyupyg .gt_left {
  text-align: left;
}

#edbfpyupyg .gt_center {
  text-align: center;
}

#edbfpyupyg .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#edbfpyupyg .gt_font_normal {
  font-weight: normal;
}

#edbfpyupyg .gt_font_bold {
  font-weight: bold;
}

#edbfpyupyg .gt_font_italic {
  font-style: italic;
}

#edbfpyupyg .gt_super {
  font-size: 65%;
}

#edbfpyupyg .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#edbfpyupyg .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#edbfpyupyg .gt_indent_1 {
  text-indent: 5px;
}

#edbfpyupyg .gt_indent_2 {
  text-indent: 10px;
}

#edbfpyupyg .gt_indent_3 {
  text-indent: 15px;
}

#edbfpyupyg .gt_indent_4 {
  text-indent: 20px;
}

#edbfpyupyg .gt_indent_5 {
  text-indent: 25px;
}

#edbfpyupyg .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#edbfpyupyg div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="a.metric">.metric</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="a.estimator">.estimator</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="a.estimate">.estimate</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="a.config">.config</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers=".metric" class="gt_row gt_left">roc_auc</td>
<td headers=".estimator" class="gt_row gt_left">hand_till</td>
<td headers=".estimate" class="gt_row gt_right">0.714</td>
<td headers=".config" class="gt_row gt_left">Preprocessor1_Model1</td></tr>
    <tr><td headers=".metric" class="gt_row gt_left gt_striped">mn_log_loss</td>
<td headers=".estimator" class="gt_row gt_left gt_striped">multiclass</td>
<td headers=".estimate" class="gt_row gt_right gt_striped">1.221</td>
<td headers=".config" class="gt_row gt_left gt_striped">Preprocessor1_Model1</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>What I really care about is the calibration of the predictions - does the observed incidence rate of events match the predicted probabilities from the model? That is, when the model predicts that the next scoring event has a probability of 0.5 of being a TD, do we observe TDs occur about half of the time?</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>pbp_last_fit <span class="sc">|&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_predictions</span>() <span class="sc">|&gt;</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_pbp_calibration</span>() <span class="sc">+</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Model Calibration"</span>,</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> stringr<span class="sc">::</span><span class="fu">str_wrap</span>(<span class="st">"Observed vs predicted incident rate of next scoring event from classification model"</span>, <span class="dv">90</span>)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="expected_points_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Understanding partial effects from a multinomial logit is difficult, and I’ve thrown a bunch of interactions in there to make this even more unwieldy. I’ll extract the coefficients and take a look (excluding the intercept), but really in order to interpret this model I’ll use predicted probabilities.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>pbp_fit <span class="sc">|&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tidy</span>() <span class="sc">|&gt;</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">class =</span> <span class="fu">factor_class</span>(class)) <span class="sc">|&gt;</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>) <span class="sc">|&gt;</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>estimate, <span class="at">y =</span> <span class="fu">reorder</span>(term, <span class="fu">abs</span>(estimate)))) <span class="sc">+</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>               <span class="co">#y=tidytext::reorder_within(term, estimate, class)))+</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(class<span class="sc">~</span>., <span class="at">ncol =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">"Feature"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="expected_points_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>I’ll look at predicted probabilities using an observed values approach for particular features (using a sample rather than the full dataset to save time). This amounts taking historical plays and setting features to specific values for every observation, predicting those observations with the model, then finding the average predicted probability as the feature changes.</p>
<p>The following visualization the predicted probability of each scoring event based on field position.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1999</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>samp <span class="ot">&lt;-</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  split_pbp <span class="sc">|&gt;</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">training</span>() <span class="sc">|&gt;</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">10000</span>)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">yards_to_goal =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">99</span>, <span class="dv">3</span>),</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">down =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map</span>(</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">99</span>, <span class="dv">2</span>),</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> {</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>      samp <span class="sc">|&gt;</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">yards_to_goal :=</span> .x) <span class="sc">|&gt;</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">nest</span>(<span class="at">data =</span> <span class="sc">-</span>yards_to_goal)</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list_rbind</span>() <span class="sc">|&gt;</span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(data)</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>est <span class="ot">&lt;-</span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">|&gt;</span></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">estimate_pbp_effect</span>(<span class="at">fit =</span> pbp_fit) <span class="sc">|&gt;</span></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize_pbp_effect</span>(<span class="at">vars =</span> <span class="st">"yards_to_goal"</span>)</span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>est <span class="sc">|&gt;</span></span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_pbp</span>() <span class="sc">|&gt;</span></span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">class =</span> <span class="fu">factor_class</span>(class)) <span class="sc">|&gt;</span></span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(</span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> yards_to_goal, <span class="at">color =</span> class,</span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> prob</span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(class <span class="sc">~</span> ., <span class="at">ncol =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb19-40"><a href="#cb19-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Pr(Outcome)"</span>) <span class="sc">+</span></span>
<span id="cb19-41"><a href="#cb19-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Yards to Opponent End Zone"</span>) <span class="sc">+</span></span>
<span id="cb19-42"><a href="#cb19-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb19-43"><a href="#cb19-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Predicted Probability of Scoring Event by Offensive Field Position"</span>,</span>
<span id="cb19-44"><a href="#cb19-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> stringr<span class="sc">::</span><span class="fu">str_wrap</span>(<span class="st">"Predicted probabilities from classification model trained on historical play by play data. Displaying probabilities using observed values approach from a random sample of plays"</span>, <span class="dv">90</span>)</span>
<span id="cb19-45"><a href="#cb19-45" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb19-46"><a href="#cb19-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="expected_points_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>How is this affected by the down?</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map</span>(</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>),</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> {</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>      df <span class="sc">|&gt;</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">down :=</span> .x) <span class="sc">|&gt;</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">nest</span>(<span class="at">data =</span> <span class="sc">-</span><span class="fu">c</span>(yards_to_goal, down))</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list_rbind</span>()</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>est2 <span class="ot">&lt;-</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>  df2 <span class="sc">|&gt;</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(data) <span class="sc">|&gt;</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">estimate_pbp_effect</span>(<span class="at">fit =</span> pbp_fit) <span class="sc">|&gt;</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize_pbp_effect</span>(<span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"yards_to_goal"</span>, <span class="st">"down"</span>))</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="co"># plot probabilities</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>est2 <span class="sc">|&gt;</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_pbp</span>() <span class="sc">|&gt;</span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">down =</span> <span class="fu">factor</span>(down),</span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">class =</span> <span class="fu">factor_class</span>(class)</span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(</span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> yards_to_goal,</span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> down,</span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> prob</span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(class <span class="sc">~</span> ., <span class="at">ncol =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Pr(Outcome)"</span>) <span class="sc">+</span></span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Yards to Goal"</span>) <span class="sc">+</span></span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Predicted Probability of Scoring Event by Offensive Field Position and Down"</span>,</span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> stringr<span class="sc">::</span><span class="fu">str_wrap</span>(<span class="st">"Predicted probabilities from classification model trained on historical play by play data. Displaying probabilities using observed values approach from a random sample of plays"</span>, <span class="dv">90</span>)</span>
<span id="cb20-39"><a href="#cb20-39" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="expected_points_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We can then translate these predicted probabilities into <em>expected points</em>, multiplying the predicted probabilities for each scoring event by their point value.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>est2 <span class="sc">|&gt;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">down =</span> <span class="fu">factor</span>(down)) <span class="sc">|&gt;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_expected_points</span>() <span class="sc">|&gt;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> yards_to_goal, <span class="at">y =</span> expected_points, <span class="at">color =</span> down)) <span class="sc">+</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">7</span>)) <span class="sc">+</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Expected Points by Offensive Field Position and Down"</span>,</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> stringr<span class="sc">::</span><span class="fu">str_wrap</span>(<span class="st">"Expected points using probabilities from classification model trained on historical play by play data. Displaying expected points using observed values approach from a random sample of plays"</span>, <span class="dv">90</span>)</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="expected_points_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="predicted-points-added" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Predicted Points Added</h1>
<p>With the model in hand, I can predict the probability of the next scoring event for every play in order to compute the expected points within each game situation. The difference in expected points from play to play is the currency by which we can evaluate players/teams/offenses/defenses.</p>
<section id="examining-a-drive" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="examining-a-drive"><span class="header-section-number">3.1</span> Examining a Drive</h2>
<p>Going back to the game between Texas A&amp;M and Florida in 2012 as an example (chosen entirely at random and not at all because it was the final home game of my last year at A&amp;M), we can examine the first drive in terms of expected points.</p>
<div class="cell scroll">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>sample_plays <span class="ot">&lt;-</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  pbp_fit <span class="sc">|&gt;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">augment</span>(</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    prepared_pbp <span class="sc">|&gt;</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">inner_join</span>(sample_games) <span class="sc">|&gt;</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(drive_number <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_expected_points</span>() <span class="sc">|&gt;</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_points_added</span>()</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>plays_points_tbl <span class="ot">&lt;-</span> <span class="cf">function</span>(plays) {</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>  plays <span class="sc">|&gt;</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">ep_pre =</span> expected_points_pre,</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">ep_post =</span> expected_points_post,</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">ep_added =</span> predicted_points_added,</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(season, game_id, offense, defense, period, yards_to_goal, down, distance, play_text, ep_pre, ep_post, ep_added) <span class="sc">|&gt;</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate_if</span>(is.numeric, round, <span class="dv">3</span>) <span class="sc">|&gt;</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gt_tbl</span>() <span class="sc">|&gt;</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    gt<span class="sc">::</span><span class="fu">cols_align</span>(</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>      <span class="at">columns =</span> <span class="fu">c</span>(<span class="st">"period"</span>, <span class="st">"down"</span>, <span class="st">"distance"</span>, <span class="st">"yards_to_goal"</span>, <span class="st">"ep_pre"</span>, <span class="st">"ep_post"</span>, <span class="st">"ep_added"</span>),</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>      <span class="at">align =</span> <span class="st">"center"</span></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>    gt<span class="sc">::</span><span class="fu">data_color</span>(</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>      <span class="at">columns =</span> <span class="fu">c</span>(</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>        <span class="st">"ep_pre"</span>,</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>        <span class="st">"ep_post"</span>,</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>        <span class="st">"ep_added"</span></span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>      <span class="at">method =</span> <span class="st">"numeric"</span>,</span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>      <span class="at">domain =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">10</span>, <span class="dv">10</span>),</span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>      <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">"orange"</span>, <span class="st">"white"</span>, <span class="st">"dodgerblue"</span>),</span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">na_color =</span> <span class="st">"white"</span></span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>    gt<span class="sc">::</span><span class="fu">tab_options</span>(</span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">data_row.padding =</span> <span class="fu">px</span>(<span class="dv">20</span>),</span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">table.font.size =</span> <span class="dv">12</span></span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a>    gt<span class="sc">::</span><span class="fu">cols_label</span>(</span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a>        <span class="at">yards_to_goal =</span> <span class="st">"ytg"</span></span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a>sample_plays <span class="sc">|&gt;</span></span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(season, game_id, period) <span class="sc">|&gt;</span></span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plays_points_tbl</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="jtjnjbultv" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#jtjnjbultv table {
  font-family: Lato, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#jtjnjbultv thead, #jtjnjbultv tbody, #jtjnjbultv tfoot, #jtjnjbultv tr, #jtjnjbultv td, #jtjnjbultv th {
  border-style: none;
}

#jtjnjbultv p {
  margin: 0;
  padding: 0;
}

#jtjnjbultv .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 12px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #FFFFFF;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jtjnjbultv .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#jtjnjbultv .gt_title {
  color: #333333;
  font-size: 24px;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jtjnjbultv .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jtjnjbultv .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jtjnjbultv .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jtjnjbultv .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jtjnjbultv .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jtjnjbultv .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jtjnjbultv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jtjnjbultv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jtjnjbultv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jtjnjbultv .gt_spanner_row {
  border-bottom-style: hidden;
}

#jtjnjbultv .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#jtjnjbultv .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jtjnjbultv .gt_from_md > :first-child {
  margin-top: 0;
}

#jtjnjbultv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jtjnjbultv .gt_row {
  padding-top: 20px;
  padding-bottom: 20px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #F6F7F7;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jtjnjbultv .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#jtjnjbultv .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#jtjnjbultv .gt_row_group_first td {
  border-top-width: 2px;
}

#jtjnjbultv .gt_row_group_first th {
  border-top-width: 2px;
}

#jtjnjbultv .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jtjnjbultv .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#jtjnjbultv .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#jtjnjbultv .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jtjnjbultv .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jtjnjbultv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jtjnjbultv .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#jtjnjbultv .gt_striped {
  background-color: #FAFAFA;
}

#jtjnjbultv .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jtjnjbultv .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jtjnjbultv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jtjnjbultv .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jtjnjbultv .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jtjnjbultv .gt_left {
  text-align: left;
}

#jtjnjbultv .gt_center {
  text-align: center;
}

#jtjnjbultv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jtjnjbultv .gt_font_normal {
  font-weight: normal;
}

#jtjnjbultv .gt_font_bold {
  font-weight: bold;
}

#jtjnjbultv .gt_font_italic {
  font-style: italic;
}

#jtjnjbultv .gt_super {
  font-size: 65%;
}

#jtjnjbultv .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#jtjnjbultv .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#jtjnjbultv .gt_indent_1 {
  text-indent: 5px;
}

#jtjnjbultv .gt_indent_2 {
  text-indent: 10px;
}

#jtjnjbultv .gt_indent_3 {
  text-indent: 15px;
}

#jtjnjbultv .gt_indent_4 {
  text-indent: 20px;
}

#jtjnjbultv .gt_indent_5 {
  text-indent: 25px;
}

#jtjnjbultv .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#jtjnjbultv div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="offense">offense</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="defense">defense</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="yards_to_goal">ytg</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="down">down</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="distance">distance</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="play_text">play_text</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="ep_pre">ep_pre</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="ep_post">ep_post</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="ep_added">ep_added</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="9" class="gt_group_heading" scope="colgroup" id="2012 - 322520245 - 1">2012 - 322520245 - 1</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_left">Florida</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center">75</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center">1</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center">10</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left">TEXAS A&amp;M penalty 5 yard False Start on Patrick Lewis accepted.</td>
<td headers="2012 - 322520245 - 1  ep_pre" class="gt_row gt_center" style="background-color: #F5F8FF; color: #000000;">0.622</td>
<td headers="2012 - 322520245 - 1  ep_post" class="gt_row gt_center" style="background-color: #FFFDFA; color: #000000;">-0.209</td>
<td headers="2012 - 322520245 - 1  ep_added" class="gt_row gt_center" style="background-color: #FFF7EC; color: #000000;">-0.831</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_left gt_striped">Florida</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center gt_striped">80</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center gt_striped">1</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center gt_striped">15</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left gt_striped">Christine Michael rush for no gain to the TexAM 20.</td>
<td headers="2012 - 322520245 - 1  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #FFFDFA; color: #000000;">-0.209</td>
<td headers="2012 - 322520245 - 1  ep_post" class="gt_row gt_center gt_striped" style="background-color: #FFF4E5; color: #000000;">-1.144</td>
<td headers="2012 - 322520245 - 1  ep_added" class="gt_row gt_center gt_striped" style="background-color: #FFF6EA; color: #000000;">-0.935</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_left">Florida</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center">80</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center">2</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center">15</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left">Johnny Manziel pass complete to Ryan Swope for a loss of 2 yards to the TexAM 18.</td>
<td headers="2012 - 322520245 - 1  ep_pre" class="gt_row gt_center" style="background-color: #FFF4E5; color: #000000;">-1.144</td>
<td headers="2012 - 322520245 - 1  ep_post" class="gt_row gt_center" style="background-color: #FFE9CA; color: #000000;">-2.401</td>
<td headers="2012 - 322520245 - 1  ep_added" class="gt_row gt_center" style="background-color: #FFF3E3; color: #000000;">-1.257</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_left gt_striped">Florida</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center gt_striped">82</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center gt_striped">3</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center gt_striped">17</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left gt_striped">Johnny Manziel rush for 16 yards to the 50 yard line, FLORIDA penalty 16 yard Personal Foul accepted for a 1ST down.</td>
<td headers="2012 - 322520245 - 1  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #FFE9CA; color: #000000;">-2.401</td>
<td headers="2012 - 322520245 - 1  ep_post" class="gt_row gt_center gt_striped" style="background-color: #D5E0FF; color: #000000;">2.615</td>
<td headers="2012 - 322520245 - 1  ep_added" class="gt_row gt_center gt_striped" style="background-color: #ACC5FF; color: #000000;">5.016</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_left">Florida</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center">50</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center">1</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center">10</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left">Johnny Manziel pass complete to Kenric McNeal for 8 yards to the Fla 42.</td>
<td headers="2012 - 322520245 - 1  ep_pre" class="gt_row gt_center" style="background-color: #D5E0FF; color: #000000;">2.615</td>
<td headers="2012 - 322520245 - 1  ep_post" class="gt_row gt_center" style="background-color: #C8D7FF; color: #000000;">3.434</td>
<td headers="2012 - 322520245 - 1  ep_added" class="gt_row gt_center" style="background-color: #F2F5FF; color: #000000;">0.820</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_left gt_striped">Florida</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center gt_striped">42</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center gt_striped">2</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center gt_striped">2</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left gt_striped">Christine Michael rush for 2 yards to the Fla 40 for a 1ST down.</td>
<td headers="2012 - 322520245 - 1  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #C8D7FF; color: #000000;">3.434</td>
<td headers="2012 - 322520245 - 1  ep_post" class="gt_row gt_center gt_striped" style="background-color: #CBD9FF; color: #000000;">3.265</td>
<td headers="2012 - 322520245 - 1  ep_added" class="gt_row gt_center gt_striped" style="background-color: #FFFDFB; color: #000000;">-0.169</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_left">Florida</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center">40</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center">1</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center">10</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left">Johnny Manziel pass complete to Kenric McNeal for 3 yards to the Fla 37.</td>
<td headers="2012 - 322520245 - 1  ep_pre" class="gt_row gt_center" style="background-color: #CBD9FF; color: #000000;">3.265</td>
<td headers="2012 - 322520245 - 1  ep_post" class="gt_row gt_center" style="background-color: #CFDCFF; color: #000000;">2.973</td>
<td headers="2012 - 322520245 - 1  ep_added" class="gt_row gt_center" style="background-color: #FFFCF8; color: #000000;">-0.292</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_left gt_striped">Florida</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center gt_striped">37</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center gt_striped">2</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center gt_striped">7</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left gt_striped">Christine Michael rush for 6 yards to the Fla 31.</td>
<td headers="2012 - 322520245 - 1  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #CFDCFF; color: #000000;">2.973</td>
<td headers="2012 - 322520245 - 1  ep_post" class="gt_row gt_center gt_striped" style="background-color: #C7D7FF; color: #000000;">3.462</td>
<td headers="2012 - 322520245 - 1  ep_added" class="gt_row gt_center gt_striped" style="background-color: #F7F9FF; color: #000000;">0.489</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_left">Florida</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center">31</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center">3</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center">1</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left">Christine Michael rush for no gain to the Fla 31.</td>
<td headers="2012 - 322520245 - 1  ep_pre" class="gt_row gt_center" style="background-color: #C7D7FF; color: #000000;">3.462</td>
<td headers="2012 - 322520245 - 1  ep_post" class="gt_row gt_center" style="background-color: #E8EEFF; color: #000000;">1.436</td>
<td headers="2012 - 322520245 - 1  ep_added" class="gt_row gt_center" style="background-color: #FFECD2; color: #000000;">-2.026</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_left gt_striped">Florida</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center gt_striped">31</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center gt_striped">4</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center gt_striped">1</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left gt_striped">Johnny Manziel pass complete to Nehemiah Hicks for 8 yards to the Fla 23 for a 1ST down.</td>
<td headers="2012 - 322520245 - 1  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #E8EEFF; color: #000000;">1.436</td>
<td headers="2012 - 322520245 - 1  ep_post" class="gt_row gt_center gt_striped" style="background-color: #BBCEFF; color: #000000;">4.183</td>
<td headers="2012 - 322520245 - 1  ep_added" class="gt_row gt_center gt_striped" style="background-color: #D3DFFF; color: #000000;">2.747</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_left">Florida</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center">23</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center">1</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center">10</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left">Johnny Manziel pass complete to Ryan Swope for 2 yards to the Fla 21.</td>
<td headers="2012 - 322520245 - 1  ep_pre" class="gt_row gt_center" style="background-color: #BBCEFF; color: #000000;">4.183</td>
<td headers="2012 - 322520245 - 1  ep_post" class="gt_row gt_center" style="background-color: #C1D3FF; color: #000000;">3.796</td>
<td headers="2012 - 322520245 - 1  ep_added" class="gt_row gt_center" style="background-color: #FFFBF6; color: #000000;">-0.387</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_left gt_striped">Florida</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center gt_striped">21</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center gt_striped">2</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center gt_striped">8</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left gt_striped">Johnny Manziel pass complete to Christine Michael for 14 yards to the Fla 7 for a 1ST down.</td>
<td headers="2012 - 322520245 - 1  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #C1D3FF; color: #000000;">3.796</td>
<td headers="2012 - 322520245 - 1  ep_post" class="gt_row gt_center gt_striped" style="background-color: #ADC6FF; color: #000000;">4.973</td>
<td headers="2012 - 322520245 - 1  ep_added" class="gt_row gt_center gt_striped" style="background-color: #EDF1FF; color: #000000;">1.177</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_left">Florida</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center">7</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center">1</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center">7</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left">Johnny Manziel pass incomplete to Kenric McNeal, broken up by Matt Elam.</td>
<td headers="2012 - 322520245 - 1  ep_pre" class="gt_row gt_center" style="background-color: #ADC6FF; color: #000000;">4.973</td>
<td headers="2012 - 322520245 - 1  ep_post" class="gt_row gt_center" style="background-color: #B7CCFF; color: #000000;">4.382</td>
<td headers="2012 - 322520245 - 1  ep_added" class="gt_row gt_center" style="background-color: #FFF9F2; color: #000000;">-0.591</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_left gt_striped">Florida</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center gt_striped">7</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center gt_striped">2</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center gt_striped">7</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left gt_striped">Johnny Manziel pass incomplete to Mike Evans, broken up by Marcus Roberson.</td>
<td headers="2012 - 322520245 - 1  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #B7CCFF; color: #000000;">4.382</td>
<td headers="2012 - 322520245 - 1  ep_post" class="gt_row gt_center gt_striped" style="background-color: #C6D6FF; color: #000000;">3.526</td>
<td headers="2012 - 322520245 - 1  ep_added" class="gt_row gt_center gt_striped" style="background-color: #FFF7EC; color: #000000;">-0.855</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_left">Florida</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center">7</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center">3</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center">7</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left">Johnny Manziel rush for 3 yards to the Fla 9, TEXAS A&amp;M penalty 5 yard Illegal Forward Pass on Johnny Manziel accepted.</td>
<td headers="2012 - 322520245 - 1  ep_pre" class="gt_row gt_center" style="background-color: #C6D6FF; color: #000000;">3.526</td>
<td headers="2012 - 322520245 - 1  ep_post" class="gt_row gt_center" style="background-color: #DBE4FF; color: #000000;">2.283</td>
<td headers="2012 - 322520245 - 1  ep_added" class="gt_row gt_center" style="background-color: #FFF3E3; color: #000000;">-1.244</td></tr>
    <tr><td headers="2012 - 322520245 - 1  offense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="2012 - 322520245 - 1  defense" class="gt_row gt_left gt_striped">Florida</td>
<td headers="2012 - 322520245 - 1  yards_to_goal" class="gt_row gt_center gt_striped">9</td>
<td headers="2012 - 322520245 - 1  down" class="gt_row gt_center gt_striped">4</td>
<td headers="2012 - 322520245 - 1  distance" class="gt_row gt_center gt_striped">9</td>
<td headers="2012 - 322520245 - 1  play_text" class="gt_row gt_left gt_striped">Taylor Bertolet 27 yard field goal GOOD.</td>
<td headers="2012 - 322520245 - 1  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #DBE4FF; color: #000000;">2.283</td>
<td headers="2012 - 322520245 - 1  ep_post" class="gt_row gt_center gt_striped" style="background-color: #FFFFFF; color: #000000;">—</td>
<td headers="2012 - 322520245 - 1  ep_added" class="gt_row gt_center gt_striped" style="background-color: #F4F6FF; color: #000000;">0.717</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>In this case, we can see how the results of plays added or lost points <em>in expectation</em>.</p>
<p>The play with the most points added was Manziel’s rush for 16 yards on 3 and 17 combined with a personal foul on Florida for an additional 15 yards. A long third down inside your own territory is a negative points situation for an offense; teams in this situation usually have to punt, which leads to the other teams being more likely to score with favorable field position. Converting on a long third down and moving to midfield results in a big change in the expected points you would get from the drive.</p>
<p>An example of a negative points play is the previous play, with Manziel’s pass to Swope for 2 yards on 2nd and 15. Even though this play gained yardage, the end result left them with a 3rd and long in their own territory.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The result of this drive was a field goal, where the expected points added (~0.75) equals the actual points (3) minus the expected points from the situation (~2.25).</p>
<p>However the metric <em>Expected Points Added</em> typically doesn’t include scoring plays. In analyzing an offense, I’ve seen others working with these types of model make a theoretical distinction between plays that add points vs plays that only result in a shift in the expected points of situation.</p>
<p><em>Predicted Points Added</em> uses both scoring plays and non scoring plays, taking into account both expected points and actual points added as a result of the play.</p>
</div>
</div>
</section>
<section id="examining-games" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="examining-games"><span class="header-section-number">3.2</span> Examining Games</h2>
<p>Once we’ve scored plays, we can examine individual games to examine which plays had the biggest impact in terms of expected points. Here I’ll examine a few games, chosen completely at random and in no way influenced by my fandom.</p>
<section id="texas-am---alabama-2012" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="texas-am---alabama-2012"><span class="header-section-number">3.2.1</span> Texas A&amp;M - Alabama 2012</h3>
<p>Kind of interesting - this game is remembered for a lot of plays by Johnny Manziel, but the most impactful plays in the game in terms of expected points changes were actually turnovers forced by the A&amp;M defense.</p>
<div class="cell scroll">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>pbp_fit <span class="sc">|&gt;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">augment</span>(</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    prepared_pbp <span class="sc">|&gt;</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(game_id <span class="sc">==</span> <span class="dv">323150333</span>)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_expected_points</span>() <span class="sc">|&gt;</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_points_added</span>() <span class="sc">|&gt;</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_plays_by_game</span>() <span class="sc">|&gt;</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plays_points_tbl</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="wvnqeyjvrm" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#wvnqeyjvrm table {
  font-family: Lato, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#wvnqeyjvrm thead, #wvnqeyjvrm tbody, #wvnqeyjvrm tfoot, #wvnqeyjvrm tr, #wvnqeyjvrm td, #wvnqeyjvrm th {
  border-style: none;
}

#wvnqeyjvrm p {
  margin: 0;
  padding: 0;
}

#wvnqeyjvrm .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 12px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #FFFFFF;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#wvnqeyjvrm .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#wvnqeyjvrm .gt_title {
  color: #333333;
  font-size: 24px;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#wvnqeyjvrm .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#wvnqeyjvrm .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wvnqeyjvrm .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wvnqeyjvrm .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wvnqeyjvrm .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#wvnqeyjvrm .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#wvnqeyjvrm .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#wvnqeyjvrm .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#wvnqeyjvrm .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#wvnqeyjvrm .gt_spanner_row {
  border-bottom-style: hidden;
}

#wvnqeyjvrm .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#wvnqeyjvrm .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#wvnqeyjvrm .gt_from_md > :first-child {
  margin-top: 0;
}

#wvnqeyjvrm .gt_from_md > :last-child {
  margin-bottom: 0;
}

#wvnqeyjvrm .gt_row {
  padding-top: 20px;
  padding-bottom: 20px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #F6F7F7;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#wvnqeyjvrm .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#wvnqeyjvrm .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#wvnqeyjvrm .gt_row_group_first td {
  border-top-width: 2px;
}

#wvnqeyjvrm .gt_row_group_first th {
  border-top-width: 2px;
}

#wvnqeyjvrm .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wvnqeyjvrm .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#wvnqeyjvrm .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#wvnqeyjvrm .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wvnqeyjvrm .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wvnqeyjvrm .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#wvnqeyjvrm .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#wvnqeyjvrm .gt_striped {
  background-color: #FAFAFA;
}

#wvnqeyjvrm .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wvnqeyjvrm .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wvnqeyjvrm .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#wvnqeyjvrm .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wvnqeyjvrm .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#wvnqeyjvrm .gt_left {
  text-align: left;
}

#wvnqeyjvrm .gt_center {
  text-align: center;
}

#wvnqeyjvrm .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#wvnqeyjvrm .gt_font_normal {
  font-weight: normal;
}

#wvnqeyjvrm .gt_font_bold {
  font-weight: bold;
}

#wvnqeyjvrm .gt_font_italic {
  font-style: italic;
}

#wvnqeyjvrm .gt_super {
  font-size: 65%;
}

#wvnqeyjvrm .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#wvnqeyjvrm .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#wvnqeyjvrm .gt_indent_1 {
  text-indent: 5px;
}

#wvnqeyjvrm .gt_indent_2 {
  text-indent: 10px;
}

#wvnqeyjvrm .gt_indent_3 {
  text-indent: 15px;
}

#wvnqeyjvrm .gt_indent_4 {
  text-indent: 20px;
}

#wvnqeyjvrm .gt_indent_5 {
  text-indent: 25px;
}

#wvnqeyjvrm .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#wvnqeyjvrm div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="offense">offense</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="defense">defense</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="period">period</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="yards_to_goal">ytg</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="down">down</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="distance">distance</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="play_text">play_text</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="ep_pre">ep_pre</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="ep_post">ep_post</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="ep_added">ep_added</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="10" class="gt_group_heading" scope="colgroup" id="2012 - 323150333">2012 - 323150333</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="2012 - 323150333  offense" class="gt_row gt_left">Alabama</td>
<td headers="2012 - 323150333  defense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="2012 - 323150333  period" class="gt_row gt_center">4</td>
<td headers="2012 - 323150333  yards_to_goal" class="gt_row gt_center">54</td>
<td headers="2012 - 323150333  down" class="gt_row gt_center">3</td>
<td headers="2012 - 323150333  distance" class="gt_row gt_center">6</td>
<td headers="2012 - 323150333  play_text" class="gt_row gt_left">AJ McCarron pass complete to Amari Cooper for 54 yards for a TOUCHDOWN.</td>
<td headers="2012 - 323150333  ep_pre" class="gt_row gt_center" style="background-color: #F0F4FF; color: #000000;">0.929</td>
<td headers="2012 - 323150333  ep_post" class="gt_row gt_center" style="background-color: #FFFFFF; color: #000000;">—</td>
<td headers="2012 - 323150333  ep_added" class="gt_row gt_center" style="background-color: #98B9FF; color: #000000;">6.071</td></tr>
    <tr><td headers="2012 - 323150333  offense" class="gt_row gt_left gt_striped">Alabama</td>
<td headers="2012 - 323150333  defense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="2012 - 323150333  period" class="gt_row gt_center gt_striped">4</td>
<td headers="2012 - 323150333  yards_to_goal" class="gt_row gt_center gt_striped">38</td>
<td headers="2012 - 323150333  down" class="gt_row gt_center gt_striped">1</td>
<td headers="2012 - 323150333  distance" class="gt_row gt_center gt_striped">10</td>
<td headers="2012 - 323150333  play_text" class="gt_row gt_left gt_striped">T.J. Yeldon rush for 8 yards to the TexAM 30, fumbled, forced by Steven Terrell, recovered by TexAM Dustin Harris, Dustin Harris for 4 yards to the TexAM 34.</td>
<td headers="2012 - 323150333  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #C7D6FF; color: #000000;">3.472</td>
<td headers="2012 - 323150333  ep_post" class="gt_row gt_center gt_striped" style="background-color: #FFF1DE; color: #000000;">-1.462</td>
<td headers="2012 - 323150333  ep_added" class="gt_row gt_center gt_striped" style="background-color: #FFD292; color: #000000;">-4.935</td></tr>
    <tr><td headers="2012 - 323150333  offense" class="gt_row gt_left">Alabama</td>
<td headers="2012 - 323150333  defense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="2012 - 323150333  period" class="gt_row gt_center">1</td>
<td headers="2012 - 323150333  yards_to_goal" class="gt_row gt_center">52</td>
<td headers="2012 - 323150333  down" class="gt_row gt_center">3</td>
<td headers="2012 - 323150333  distance" class="gt_row gt_center">5</td>
<td headers="2012 - 323150333  play_text" class="gt_row gt_left">AJ McCarron pass intercepted by Sean Porter at the TexAM 43, returned for 16 yards to the Alab 41.</td>
<td headers="2012 - 323150333  ep_pre" class="gt_row gt_center" style="background-color: #ECF0FF; color: #000000;">1.242</td>
<td headers="2012 - 323150333  ep_post" class="gt_row gt_center" style="background-color: #FFE0B4; color: #000000;">-3.365</td>
<td headers="2012 - 323150333  ep_added" class="gt_row gt_center" style="background-color: #FFD599; color: #000000;">-4.606</td></tr>
    <tr><td headers="2012 - 323150333  offense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="2012 - 323150333  defense" class="gt_row gt_left gt_striped">Alabama</td>
<td headers="2012 - 323150333  period" class="gt_row gt_center gt_striped">4</td>
<td headers="2012 - 323150333  yards_to_goal" class="gt_row gt_center gt_striped">68</td>
<td headers="2012 - 323150333  down" class="gt_row gt_center gt_striped">3</td>
<td headers="2012 - 323150333  distance" class="gt_row gt_center gt_striped">8</td>
<td headers="2012 - 323150333  play_text" class="gt_row gt_left gt_striped">Johnny Manziel pass complete to Ryan Swope for 28 yards to the Alab 25, ALABAMA penalty 15 yard Personal Foul on Ha'Sean Clinton-Dix accepted for a 1ST down.</td>
<td headers="2012 - 323150333  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #FFFEFB; color: #000000;">-0.157</td>
<td headers="2012 - 323150333  ep_post" class="gt_row gt_center gt_striped" style="background-color: #B7CCFF; color: #000000;">4.393</td>
<td headers="2012 - 323150333  ep_added" class="gt_row gt_center gt_striped" style="background-color: #B4CAFF; color: #000000;">4.550</td></tr>
    <tr><td headers="2012 - 323150333  offense" class="gt_row gt_left">Alabama</td>
<td headers="2012 - 323150333  defense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="2012 - 323150333  period" class="gt_row gt_center">4</td>
<td headers="2012 - 323150333  yards_to_goal" class="gt_row gt_center">88</td>
<td headers="2012 - 323150333  down" class="gt_row gt_center">1</td>
<td headers="2012 - 323150333  distance" class="gt_row gt_center">18</td>
<td headers="2012 - 323150333  play_text" class="gt_row gt_left">AJ McCarron pass complete to Amari Cooper for 50 yards to the TexAM 38 for a 1ST down.</td>
<td headers="2012 - 323150333  ep_pre" class="gt_row gt_center" style="background-color: #FFF9F0; color: #000000;">-0.660</td>
<td headers="2012 - 323150333  ep_post" class="gt_row gt_center" style="background-color: #C7D6FF; color: #000000;">3.472</td>
<td headers="2012 - 323150333  ep_added" class="gt_row gt_center" style="background-color: #BCCFFF; color: #000000;">4.133</td></tr>
    <tr><td headers="2012 - 323150333  offense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="2012 - 323150333  defense" class="gt_row gt_left gt_striped">Alabama</td>
<td headers="2012 - 323150333  period" class="gt_row gt_center gt_striped">1</td>
<td headers="2012 - 323150333  yards_to_goal" class="gt_row gt_center gt_striped">10</td>
<td headers="2012 - 323150333  down" class="gt_row gt_center gt_striped">3</td>
<td headers="2012 - 323150333  distance" class="gt_row gt_center gt_striped">10</td>
<td headers="2012 - 323150333  play_text" class="gt_row gt_left gt_striped">Johnny Manziel pass complete to Ryan Swope for 10 yards for a TOUCHDOWN.</td>
<td headers="2012 - 323150333  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #CAD9FF; color: #000000;">3.296</td>
<td headers="2012 - 323150333  ep_post" class="gt_row gt_center gt_striped" style="background-color: #FFFFFF; color: #000000;">—</td>
<td headers="2012 - 323150333  ep_added" class="gt_row gt_center gt_striped" style="background-color: #C3D4FF; color: #000000;">3.704</td></tr>
    <tr><td headers="2012 - 323150333  offense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="2012 - 323150333  defense" class="gt_row gt_left">Alabama</td>
<td headers="2012 - 323150333  period" class="gt_row gt_center">1</td>
<td headers="2012 - 323150333  yards_to_goal" class="gt_row gt_center">59</td>
<td headers="2012 - 323150333  down" class="gt_row gt_center">3</td>
<td headers="2012 - 323150333  distance" class="gt_row gt_center">6</td>
<td headers="2012 - 323150333  play_text" class="gt_row gt_left">Johnny Manziel rush for 32 yards to the Alab 27 for a 1ST down.</td>
<td headers="2012 - 323150333  ep_pre" class="gt_row gt_center" style="background-color: #F4F6FF; color: #000000;">0.718</td>
<td headers="2012 - 323150333  ep_post" class="gt_row gt_center" style="background-color: #B9CDFF; color: #000000;">4.288</td>
<td headers="2012 - 323150333  ep_added" class="gt_row gt_center" style="background-color: #C5D5FF; color: #000000;">3.570</td></tr>
    <tr><td headers="2012 - 323150333  offense" class="gt_row gt_left gt_striped">Alabama</td>
<td headers="2012 - 323150333  defense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="2012 - 323150333  period" class="gt_row gt_center gt_striped">2</td>
<td headers="2012 - 323150333  yards_to_goal" class="gt_row gt_center gt_striped">2</td>
<td headers="2012 - 323150333  down" class="gt_row gt_center gt_striped">3</td>
<td headers="2012 - 323150333  distance" class="gt_row gt_center gt_striped">2</td>
<td headers="2012 - 323150333  play_text" class="gt_row gt_left gt_striped">Eddie Lacy rush for 2 yards for a TOUCHDOWN.</td>
<td headers="2012 - 323150333  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #C3D4FF; color: #000000;">3.714</td>
<td headers="2012 - 323150333  ep_post" class="gt_row gt_center gt_striped" style="background-color: #FFFFFF; color: #000000;">—</td>
<td headers="2012 - 323150333  ep_added" class="gt_row gt_center gt_striped" style="background-color: #CAD9FF; color: #000000;">3.286</td></tr>
    <tr><td headers="2012 - 323150333  offense" class="gt_row gt_left">Alabama</td>
<td headers="2012 - 323150333  defense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="2012 - 323150333  period" class="gt_row gt_center">4</td>
<td headers="2012 - 323150333  yards_to_goal" class="gt_row gt_center">60</td>
<td headers="2012 - 323150333  down" class="gt_row gt_center">1</td>
<td headers="2012 - 323150333  distance" class="gt_row gt_center">10</td>
<td headers="2012 - 323150333  play_text" class="gt_row gt_left">AJ McCarron pass complete to Kenny Bell for 54 yards to the TexAM 6 for a 1ST down.</td>
<td headers="2012 - 323150333  ep_pre" class="gt_row gt_center" style="background-color: #EDF1FF; color: #000000;">1.178</td>
<td headers="2012 - 323150333  ep_post" class="gt_row gt_center" style="background-color: #B6CCFF; color: #000000;">4.437</td>
<td headers="2012 - 323150333  ep_added" class="gt_row gt_center" style="background-color: #CBD9FF; color: #000000;">3.259</td></tr>
    <tr><td headers="2012 - 323150333  offense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="2012 - 323150333  defense" class="gt_row gt_left gt_striped">Alabama</td>
<td headers="2012 - 323150333  period" class="gt_row gt_center gt_striped">4</td>
<td headers="2012 - 323150333  yards_to_goal" class="gt_row gt_center gt_striped">24</td>
<td headers="2012 - 323150333  down" class="gt_row gt_center gt_striped">1</td>
<td headers="2012 - 323150333  distance" class="gt_row gt_center gt_striped">10</td>
<td headers="2012 - 323150333  play_text" class="gt_row gt_left gt_striped">Johnny Manziel pass complete to Malcome Kennedy for 24 yards for a TOUCHDOWN.</td>
<td headers="2012 - 323150333  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #BBCFFF; color: #000000;">4.172</td>
<td headers="2012 - 323150333  ep_post" class="gt_row gt_center gt_striped" style="background-color: #FFFFFF; color: #000000;">—</td>
<td headers="2012 - 323150333  ep_added" class="gt_row gt_center gt_striped" style="background-color: #D2DEFF; color: #000000;">2.828</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="texas-am---alabama-2021" class="level3" data-number="3.2.2">
<h3 data-number="3.2.2" class="anchored" data-anchor-id="texas-am---alabama-2021"><span class="header-section-number">3.2.2</span> Texas A&amp;M - Alabama 2021</h3>
<p>Another game chosen completely at random.</p>
<div class="cell scroll">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>pbp_fit <span class="sc">|&gt;</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">augment</span>(</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    prepared_pbp <span class="sc">|&gt;</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(game_id <span class="sc">==</span> <span class="dv">401282103</span>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_expected_points</span>() <span class="sc">|&gt;</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_points_added</span>() <span class="sc">|&gt;</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_plays_by_game</span>(<span class="at">var =</span> predicted_points_added, <span class="at">n =</span><span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plays_points_tbl</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="nqgcmgbduz" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#nqgcmgbduz table {
  font-family: Lato, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#nqgcmgbduz thead, #nqgcmgbduz tbody, #nqgcmgbduz tfoot, #nqgcmgbduz tr, #nqgcmgbduz td, #nqgcmgbduz th {
  border-style: none;
}

#nqgcmgbduz p {
  margin: 0;
  padding: 0;
}

#nqgcmgbduz .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 12px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #FFFFFF;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#nqgcmgbduz .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#nqgcmgbduz .gt_title {
  color: #333333;
  font-size: 24px;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#nqgcmgbduz .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#nqgcmgbduz .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nqgcmgbduz .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nqgcmgbduz .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nqgcmgbduz .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#nqgcmgbduz .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#nqgcmgbduz .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#nqgcmgbduz .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#nqgcmgbduz .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#nqgcmgbduz .gt_spanner_row {
  border-bottom-style: hidden;
}

#nqgcmgbduz .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#nqgcmgbduz .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#nqgcmgbduz .gt_from_md > :first-child {
  margin-top: 0;
}

#nqgcmgbduz .gt_from_md > :last-child {
  margin-bottom: 0;
}

#nqgcmgbduz .gt_row {
  padding-top: 20px;
  padding-bottom: 20px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #F6F7F7;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#nqgcmgbduz .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#nqgcmgbduz .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#nqgcmgbduz .gt_row_group_first td {
  border-top-width: 2px;
}

#nqgcmgbduz .gt_row_group_first th {
  border-top-width: 2px;
}

#nqgcmgbduz .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nqgcmgbduz .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#nqgcmgbduz .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#nqgcmgbduz .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nqgcmgbduz .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nqgcmgbduz .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#nqgcmgbduz .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#nqgcmgbduz .gt_striped {
  background-color: #FAFAFA;
}

#nqgcmgbduz .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nqgcmgbduz .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nqgcmgbduz .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#nqgcmgbduz .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nqgcmgbduz .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#nqgcmgbduz .gt_left {
  text-align: left;
}

#nqgcmgbduz .gt_center {
  text-align: center;
}

#nqgcmgbduz .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#nqgcmgbduz .gt_font_normal {
  font-weight: normal;
}

#nqgcmgbduz .gt_font_bold {
  font-weight: bold;
}

#nqgcmgbduz .gt_font_italic {
  font-style: italic;
}

#nqgcmgbduz .gt_super {
  font-size: 65%;
}

#nqgcmgbduz .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#nqgcmgbduz .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#nqgcmgbduz .gt_indent_1 {
  text-indent: 5px;
}

#nqgcmgbduz .gt_indent_2 {
  text-indent: 10px;
}

#nqgcmgbduz .gt_indent_3 {
  text-indent: 15px;
}

#nqgcmgbduz .gt_indent_4 {
  text-indent: 20px;
}

#nqgcmgbduz .gt_indent_5 {
  text-indent: 25px;
}

#nqgcmgbduz .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#nqgcmgbduz div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="offense">offense</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="defense">defense</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="period">period</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="yards_to_goal">ytg</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="down">down</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="distance">distance</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="play_text">play_text</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="ep_pre">ep_pre</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="ep_post">ep_post</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="ep_added">ep_added</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="10" class="gt_group_heading" scope="colgroup" id="2021 - 401282103">2021 - 401282103</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="2021 - 401282103  offense" class="gt_row gt_left">Alabama</td>
<td headers="2021 - 401282103  defense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="2021 - 401282103  period" class="gt_row gt_center">1</td>
<td headers="2021 - 401282103  yards_to_goal" class="gt_row gt_center">56</td>
<td headers="2021 - 401282103  down" class="gt_row gt_center">3</td>
<td headers="2021 - 401282103  distance" class="gt_row gt_center">1</td>
<td headers="2021 - 401282103  play_text" class="gt_row gt_left">Brian Robinson Jr. run for 1 yd to the Alab 45 Brian Robinson Jr. fumbled, recovered by TexAM , return for 4 yds to the Alab 41</td>
<td headers="2021 - 401282103  ep_pre" class="gt_row gt_center" style="background-color: #DBE5FF; color: #000000;">2.240</td>
<td headers="2021 - 401282103  ep_post" class="gt_row gt_center" style="background-color: #FFDEB0; color: #000000;">-3.582</td>
<td headers="2021 - 401282103  ep_added" class="gt_row gt_center" style="background-color: #FFCA7F; color: #000000;">-5.821</td></tr>
    <tr><td headers="2021 - 401282103  offense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="2021 - 401282103  defense" class="gt_row gt_left gt_striped">Alabama</td>
<td headers="2021 - 401282103  period" class="gt_row gt_center gt_striped">3</td>
<td headers="2021 - 401282103  yards_to_goal" class="gt_row gt_center gt_striped">81</td>
<td headers="2021 - 401282103  down" class="gt_row gt_center gt_striped">4</td>
<td headers="2021 - 401282103  distance" class="gt_row gt_center gt_striped">4</td>
<td headers="2021 - 401282103  play_text" class="gt_row gt_left gt_striped">Nik Constantinou punt blocked by Ja'Corey Brooks blocked by Ja'Corey Brooks for a TD, (Will Reichard KICK)</td>
<td headers="2021 - 401282103  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #FFE9CA; color: #000000;">-2.385</td>
<td headers="2021 - 401282103  ep_post" class="gt_row gt_center gt_striped" style="background-color: #FFFFFF; color: #000000;">—</td>
<td headers="2021 - 401282103  ep_added" class="gt_row gt_center gt_striped" style="background-color: #FFD599; color: #000000;">-4.615</td></tr>
    <tr><td headers="2021 - 401282103  offense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="2021 - 401282103  defense" class="gt_row gt_left">Alabama</td>
<td headers="2021 - 401282103  period" class="gt_row gt_center">4</td>
<td headers="2021 - 401282103  yards_to_goal" class="gt_row gt_center">25</td>
<td headers="2021 - 401282103  down" class="gt_row gt_center">1</td>
<td headers="2021 - 401282103  distance" class="gt_row gt_center">10</td>
<td headers="2021 - 401282103  play_text" class="gt_row gt_left">Zach Calzada pass complete to Ainias Smith for 25 yds for a TD, (Seth Small KICK)</td>
<td headers="2021 - 401282103  ep_pre" class="gt_row gt_center" style="background-color: #D2DEFF; color: #000000;">2.839</td>
<td headers="2021 - 401282103  ep_post" class="gt_row gt_center" style="background-color: #FFFFFF; color: #000000;">—</td>
<td headers="2021 - 401282103  ep_added" class="gt_row gt_center" style="background-color: #BBCFFF; color: #000000;">4.161</td></tr>
    <tr><td headers="2021 - 401282103  offense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="2021 - 401282103  defense" class="gt_row gt_left gt_striped">Alabama</td>
<td headers="2021 - 401282103  period" class="gt_row gt_center gt_striped">2</td>
<td headers="2021 - 401282103  yards_to_goal" class="gt_row gt_center gt_striped">74</td>
<td headers="2021 - 401282103  down" class="gt_row gt_center gt_striped">1</td>
<td headers="2021 - 401282103  distance" class="gt_row gt_center gt_striped">10</td>
<td headers="2021 - 401282103  play_text" class="gt_row gt_left gt_striped">Zach Calzada pass intercepted DeMarcco Hellams return for no gain to the TexAM 40</td>
<td headers="2021 - 401282103  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #F3F6FF; color: #000000;">0.764</td>
<td headers="2021 - 401282103  ep_post" class="gt_row gt_center gt_striped" style="background-color: #FFE0B4; color: #000000;">-3.396</td>
<td headers="2021 - 401282103  ep_added" class="gt_row gt_center gt_striped" style="background-color: #FFD9A3; color: #000000;">-4.160</td></tr>
    <tr><td headers="2021 - 401282103  offense" class="gt_row gt_left">Alabama</td>
<td headers="2021 - 401282103  defense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="2021 - 401282103  period" class="gt_row gt_center">2</td>
<td headers="2021 - 401282103  yards_to_goal" class="gt_row gt_center">1</td>
<td headers="2021 - 401282103  down" class="gt_row gt_center">3</td>
<td headers="2021 - 401282103  distance" class="gt_row gt_center">1</td>
<td headers="2021 - 401282103  play_text" class="gt_row gt_left">Bryce Young pass intercepted Demani Richardson return for 3 yds to the TexAM 3</td>
<td headers="2021 - 401282103  ep_pre" class="gt_row gt_center" style="background-color: #A3C0FF; color: #000000;">5.502</td>
<td headers="2021 - 401282103  ep_post" class="gt_row gt_center" style="background-color: #E8EEFF; color: #000000;">1.451</td>
<td headers="2021 - 401282103  ep_added" class="gt_row gt_center" style="background-color: #FFDAA5; color: #000000;">-4.051</td></tr>
    <tr><td headers="2021 - 401282103  offense" class="gt_row gt_left gt_striped">Alabama</td>
<td headers="2021 - 401282103  defense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="2021 - 401282103  period" class="gt_row gt_center gt_striped">3</td>
<td headers="2021 - 401282103  yards_to_goal" class="gt_row gt_center gt_striped">29</td>
<td headers="2021 - 401282103  down" class="gt_row gt_center gt_striped">2</td>
<td headers="2021 - 401282103  distance" class="gt_row gt_center gt_striped">7</td>
<td headers="2021 - 401282103  play_text" class="gt_row gt_left gt_striped">Bryce Young pass complete to Jameson Williams for 29 yds for a TD, (Will Reichard KICK)</td>
<td headers="2021 - 401282103  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #C2D3FF; color: #000000;">3.775</td>
<td headers="2021 - 401282103  ep_post" class="gt_row gt_center gt_striped" style="background-color: #FFFFFF; color: #000000;">—</td>
<td headers="2021 - 401282103  ep_added" class="gt_row gt_center gt_striped" style="background-color: #CBD9FF; color: #000000;">3.225</td></tr>
    <tr><td headers="2021 - 401282103  offense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="2021 - 401282103  defense" class="gt_row gt_left">Alabama</td>
<td headers="2021 - 401282103  period" class="gt_row gt_center">2</td>
<td headers="2021 - 401282103  yards_to_goal" class="gt_row gt_center">77</td>
<td headers="2021 - 401282103  down" class="gt_row gt_center">2</td>
<td headers="2021 - 401282103  distance" class="gt_row gt_center">12</td>
<td headers="2021 - 401282103  play_text" class="gt_row gt_left">Zach Calzada pass complete to Devon Achane for 33 yds to the Alab 44 for a 1ST down</td>
<td headers="2021 - 401282103  ep_pre" class="gt_row gt_center" style="background-color: #FFFCF9; color: #000000;">-0.270</td>
<td headers="2021 - 401282103  ep_post" class="gt_row gt_center" style="background-color: #D2DEFF; color: #000000;">2.836</td>
<td headers="2021 - 401282103  ep_added" class="gt_row gt_center" style="background-color: #CDDBFF; color: #000000;">3.106</td></tr>
    <tr><td headers="2021 - 401282103  offense" class="gt_row gt_left gt_striped">Alabama</td>
<td headers="2021 - 401282103  defense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="2021 - 401282103  period" class="gt_row gt_center gt_striped">3</td>
<td headers="2021 - 401282103  yards_to_goal" class="gt_row gt_center gt_striped">75</td>
<td headers="2021 - 401282103  down" class="gt_row gt_center gt_striped">2</td>
<td headers="2021 - 401282103  distance" class="gt_row gt_center gt_striped">10</td>
<td headers="2021 - 401282103  play_text" class="gt_row gt_left gt_striped">Brian Robinson Jr. run for 24 yds to the Alab 49 for a 1ST down</td>
<td headers="2021 - 401282103  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #FFFEFC; color: #000000;">-0.152</td>
<td headers="2021 - 401282103  ep_post" class="gt_row gt_center gt_striped" style="background-color: #D2DEFF; color: #000000;">2.844</td>
<td headers="2021 - 401282103  ep_added" class="gt_row gt_center gt_striped" style="background-color: #CFDCFF; color: #000000;">2.996</td></tr>
    <tr><td headers="2021 - 401282103  offense" class="gt_row gt_left">Texas A&amp;M</td>
<td headers="2021 - 401282103  defense" class="gt_row gt_left">Alabama</td>
<td headers="2021 - 401282103  period" class="gt_row gt_center">2</td>
<td headers="2021 - 401282103  yards_to_goal" class="gt_row gt_center">15</td>
<td headers="2021 - 401282103  down" class="gt_row gt_center">1</td>
<td headers="2021 - 401282103  distance" class="gt_row gt_center">10</td>
<td headers="2021 - 401282103  play_text" class="gt_row gt_left">Isaiah Spiller run for 15 yds for a TD, (Seth Small KICK)</td>
<td headers="2021 - 401282103  ep_pre" class="gt_row gt_center" style="background-color: #BDD0FF; color: #000000;">4.050</td>
<td headers="2021 - 401282103  ep_post" class="gt_row gt_center" style="background-color: #FFFFFF; color: #000000;">—</td>
<td headers="2021 - 401282103  ep_added" class="gt_row gt_center" style="background-color: #D0DCFF; color: #000000;">2.950</td></tr>
    <tr><td headers="2021 - 401282103  offense" class="gt_row gt_left gt_striped">Alabama</td>
<td headers="2021 - 401282103  defense" class="gt_row gt_left gt_striped">Texas A&amp;M</td>
<td headers="2021 - 401282103  period" class="gt_row gt_center gt_striped">3</td>
<td headers="2021 - 401282103  yards_to_goal" class="gt_row gt_center gt_striped">51</td>
<td headers="2021 - 401282103  down" class="gt_row gt_center gt_striped">3</td>
<td headers="2021 - 401282103  distance" class="gt_row gt_center gt_striped">9</td>
<td headers="2021 - 401282103  play_text" class="gt_row gt_left gt_striped">Bryce Young pass complete to Brian Robinson Jr. for 16 yds to the TexAM 35 for a 1ST down</td>
<td headers="2021 - 401282103  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #F4F7FF; color: #000000;">0.711</td>
<td headers="2021 - 401282103  ep_post" class="gt_row gt_center gt_striped" style="background-color: #C4D5FF; color: #000000;">3.639</td>
<td headers="2021 - 401282103  ep_added" class="gt_row gt_center gt_striped" style="background-color: #D0DDFF; color: #000000;">2.927</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="auburn---georgia-2013" class="level3" data-number="3.2.3">
<h3 data-number="3.2.3" class="anchored" data-anchor-id="auburn---georgia-2013"><span class="header-section-number">3.2.3</span> Auburn - Georgia 2013</h3>
<div class="cell scroll">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>pbp_fit <span class="sc">|&gt;</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">augment</span>(</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    prepared_pbp <span class="sc">|&gt;</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(game_id <span class="sc">==</span> <span class="dv">333200002</span>)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_expected_points</span>() <span class="sc">|&gt;</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_points_added</span>() <span class="sc">|&gt;</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_plays_by_game</span>(<span class="at">var =</span> predicted_points_added, <span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plays_points_tbl</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="dsdovlvbor" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#dsdovlvbor table {
  font-family: Lato, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#dsdovlvbor thead, #dsdovlvbor tbody, #dsdovlvbor tfoot, #dsdovlvbor tr, #dsdovlvbor td, #dsdovlvbor th {
  border-style: none;
}

#dsdovlvbor p {
  margin: 0;
  padding: 0;
}

#dsdovlvbor .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 12px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #FFFFFF;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#dsdovlvbor .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#dsdovlvbor .gt_title {
  color: #333333;
  font-size: 24px;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#dsdovlvbor .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#dsdovlvbor .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dsdovlvbor .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dsdovlvbor .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dsdovlvbor .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#dsdovlvbor .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#dsdovlvbor .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#dsdovlvbor .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#dsdovlvbor .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#dsdovlvbor .gt_spanner_row {
  border-bottom-style: hidden;
}

#dsdovlvbor .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#dsdovlvbor .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#dsdovlvbor .gt_from_md > :first-child {
  margin-top: 0;
}

#dsdovlvbor .gt_from_md > :last-child {
  margin-bottom: 0;
}

#dsdovlvbor .gt_row {
  padding-top: 20px;
  padding-bottom: 20px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #F6F7F7;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#dsdovlvbor .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#dsdovlvbor .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#dsdovlvbor .gt_row_group_first td {
  border-top-width: 2px;
}

#dsdovlvbor .gt_row_group_first th {
  border-top-width: 2px;
}

#dsdovlvbor .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dsdovlvbor .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#dsdovlvbor .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#dsdovlvbor .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dsdovlvbor .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dsdovlvbor .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#dsdovlvbor .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#dsdovlvbor .gt_striped {
  background-color: #FAFAFA;
}

#dsdovlvbor .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dsdovlvbor .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dsdovlvbor .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dsdovlvbor .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dsdovlvbor .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dsdovlvbor .gt_left {
  text-align: left;
}

#dsdovlvbor .gt_center {
  text-align: center;
}

#dsdovlvbor .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#dsdovlvbor .gt_font_normal {
  font-weight: normal;
}

#dsdovlvbor .gt_font_bold {
  font-weight: bold;
}

#dsdovlvbor .gt_font_italic {
  font-style: italic;
}

#dsdovlvbor .gt_super {
  font-size: 65%;
}

#dsdovlvbor .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#dsdovlvbor .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#dsdovlvbor .gt_indent_1 {
  text-indent: 5px;
}

#dsdovlvbor .gt_indent_2 {
  text-indent: 10px;
}

#dsdovlvbor .gt_indent_3 {
  text-indent: 15px;
}

#dsdovlvbor .gt_indent_4 {
  text-indent: 20px;
}

#dsdovlvbor .gt_indent_5 {
  text-indent: 25px;
}

#dsdovlvbor .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#dsdovlvbor div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="offense">offense</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="defense">defense</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="period">period</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="yards_to_goal">ytg</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="down">down</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="distance">distance</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="play_text">play_text</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="ep_pre">ep_pre</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="ep_post">ep_post</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="ep_added">ep_added</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="10" class="gt_group_heading" scope="colgroup" id="2013 - 333200002">2013 - 333200002</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="2013 - 333200002  offense" class="gt_row gt_left">Auburn</td>
<td headers="2013 - 333200002  defense" class="gt_row gt_left">Georgia</td>
<td headers="2013 - 333200002  period" class="gt_row gt_center">4</td>
<td headers="2013 - 333200002  yards_to_goal" class="gt_row gt_center">73</td>
<td headers="2013 - 333200002  down" class="gt_row gt_center">4</td>
<td headers="2013 - 333200002  distance" class="gt_row gt_center">18</td>
<td headers="2013 - 333200002  play_text" class="gt_row gt_left">Nick Marshall pass complete to Ricardo Louis for 73 yards for a TOUCHDOWN.</td>
<td headers="2013 - 333200002  ep_pre" class="gt_row gt_center" style="background-color: #FFFCF8; color: #000000;">-0.301</td>
<td headers="2013 - 333200002  ep_post" class="gt_row gt_center" style="background-color: #FFFFFF; color: #000000;">—</td>
<td headers="2013 - 333200002  ep_added" class="gt_row gt_center" style="background-color: #7EACFF; color: #000000;">7.301</td></tr>
    <tr><td headers="2013 - 333200002  offense" class="gt_row gt_left gt_striped">Georgia</td>
<td headers="2013 - 333200002  defense" class="gt_row gt_left gt_striped">Auburn</td>
<td headers="2013 - 333200002  period" class="gt_row gt_center gt_striped">4</td>
<td headers="2013 - 333200002  yards_to_goal" class="gt_row gt_center gt_striped">5</td>
<td headers="2013 - 333200002  down" class="gt_row gt_center gt_striped">4</td>
<td headers="2013 - 333200002  distance" class="gt_row gt_center gt_striped">5</td>
<td headers="2013 - 333200002  play_text" class="gt_row gt_left gt_striped">Aaron Murray rush for 5 yards for a TOUCHDOWN.</td>
<td headers="2013 - 333200002  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #DEE6FF; color: #000000;">2.087</td>
<td headers="2013 - 333200002  ep_post" class="gt_row gt_center gt_striped" style="background-color: #FFFFFF; color: #000000;">—</td>
<td headers="2013 - 333200002  ep_added" class="gt_row gt_center gt_striped" style="background-color: #AEC6FF; color: #000000;">4.913</td></tr>
    <tr><td headers="2013 - 333200002  offense" class="gt_row gt_left">Auburn</td>
<td headers="2013 - 333200002  defense" class="gt_row gt_left">Georgia</td>
<td headers="2013 - 333200002  period" class="gt_row gt_center">1</td>
<td headers="2013 - 333200002  yards_to_goal" class="gt_row gt_center">68</td>
<td headers="2013 - 333200002  down" class="gt_row gt_center">4</td>
<td headers="2013 - 333200002  distance" class="gt_row gt_center">4</td>
<td headers="2013 - 333200002  play_text" class="gt_row gt_left">GEORGIA penalty 15 yard Personal Foul on John Taylor accepted.</td>
<td headers="2013 - 333200002  ep_pre" class="gt_row gt_center" style="background-color: #FFF3E2; color: #000000;">-1.318</td>
<td headers="2013 - 333200002  ep_post" class="gt_row gt_center" style="background-color: #D1DEFF; color: #000000;">2.854</td>
<td headers="2013 - 333200002  ep_added" class="gt_row gt_center" style="background-color: #BBCFFF; color: #000000;">4.172</td></tr>
    <tr><td headers="2013 - 333200002  offense" class="gt_row gt_left gt_striped">Auburn</td>
<td headers="2013 - 333200002  defense" class="gt_row gt_left gt_striped">Georgia</td>
<td headers="2013 - 333200002  period" class="gt_row gt_center gt_striped">2</td>
<td headers="2013 - 333200002  yards_to_goal" class="gt_row gt_center gt_striped">24</td>
<td headers="2013 - 333200002  down" class="gt_row gt_center gt_striped">1</td>
<td headers="2013 - 333200002  distance" class="gt_row gt_center gt_striped">10</td>
<td headers="2013 - 333200002  play_text" class="gt_row gt_left gt_striped">Tre Mason rush for 24 yards for a TOUCHDOWN.</td>
<td headers="2013 - 333200002  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #C9D8FF; color: #000000;">3.357</td>
<td headers="2013 - 333200002  ep_post" class="gt_row gt_center gt_striped" style="background-color: #FFFFFF; color: #000000;">—</td>
<td headers="2013 - 333200002  ep_added" class="gt_row gt_center gt_striped" style="background-color: #C4D5FF; color: #000000;">3.643</td></tr>
    <tr><td headers="2013 - 333200002  offense" class="gt_row gt_left">Auburn</td>
<td headers="2013 - 333200002  defense" class="gt_row gt_left">Georgia</td>
<td headers="2013 - 333200002  period" class="gt_row gt_center">3</td>
<td headers="2013 - 333200002  yards_to_goal" class="gt_row gt_center">51</td>
<td headers="2013 - 333200002  down" class="gt_row gt_center">3</td>
<td headers="2013 - 333200002  distance" class="gt_row gt_center">4</td>
<td headers="2013 - 333200002  play_text" class="gt_row gt_left">Nick Marshall pass complete to Ricardo Louis for 44 yards to the Geo 7 for a 1ST down.</td>
<td headers="2013 - 333200002  ep_pre" class="gt_row gt_center" style="background-color: #E7EDFF; color: #000000;">1.535</td>
<td headers="2013 - 333200002  ep_post" class="gt_row gt_center" style="background-color: #AAC4FF; color: #000000;">5.092</td>
<td headers="2013 - 333200002  ep_added" class="gt_row gt_center" style="background-color: #C6D6FF; color: #000000;">3.558</td></tr>
    <tr><td headers="2013 - 333200002  offense" class="gt_row gt_left gt_striped">Georgia</td>
<td headers="2013 - 333200002  defense" class="gt_row gt_left gt_striped">Auburn</td>
<td headers="2013 - 333200002  period" class="gt_row gt_center gt_striped">4</td>
<td headers="2013 - 333200002  yards_to_goal" class="gt_row gt_center gt_striped">24</td>
<td headers="2013 - 333200002  down" class="gt_row gt_center gt_striped">1</td>
<td headers="2013 - 333200002  distance" class="gt_row gt_center gt_striped">10</td>
<td headers="2013 - 333200002  play_text" class="gt_row gt_left gt_striped">Aaron Murray pass complete to Arthur Lynch for 24 yards for a TOUCHDOWN.</td>
<td headers="2013 - 333200002  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #C3D4FF; color: #000000;">3.690</td>
<td headers="2013 - 333200002  ep_post" class="gt_row gt_center gt_striped" style="background-color: #FFFFFF; color: #000000;">—</td>
<td headers="2013 - 333200002  ep_added" class="gt_row gt_center gt_striped" style="background-color: #CAD8FF; color: #000000;">3.310</td></tr>
    <tr><td headers="2013 - 333200002  offense" class="gt_row gt_left">Georgia</td>
<td headers="2013 - 333200002  defense" class="gt_row gt_left">Auburn</td>
<td headers="2013 - 333200002  period" class="gt_row gt_center">2</td>
<td headers="2013 - 333200002  yards_to_goal" class="gt_row gt_center">75</td>
<td headers="2013 - 333200002  down" class="gt_row gt_center">1</td>
<td headers="2013 - 333200002  distance" class="gt_row gt_center">10</td>
<td headers="2013 - 333200002  play_text" class="gt_row gt_left">Aaron Murray pass complete to Michael Bennett for 42 yards to the Aub 33 for a 1ST down.</td>
<td headers="2013 - 333200002  ep_pre" class="gt_row gt_center" style="background-color: #F4F7FF; color: #000000;">0.683</td>
<td headers="2013 - 333200002  ep_post" class="gt_row gt_center" style="background-color: #BED1FF; color: #000000;">3.973</td>
<td headers="2013 - 333200002  ep_added" class="gt_row gt_center" style="background-color: #CAD9FF; color: #000000;">3.290</td></tr>
    <tr><td headers="2013 - 333200002  offense" class="gt_row gt_left gt_striped">Georgia</td>
<td headers="2013 - 333200002  defense" class="gt_row gt_left gt_striped">Auburn</td>
<td headers="2013 - 333200002  period" class="gt_row gt_center gt_striped">3</td>
<td headers="2013 - 333200002  yards_to_goal" class="gt_row gt_center gt_striped">83</td>
<td headers="2013 - 333200002  down" class="gt_row gt_center gt_striped">1</td>
<td headers="2013 - 333200002  distance" class="gt_row gt_center gt_striped">10</td>
<td headers="2013 - 333200002  play_text" class="gt_row gt_left gt_striped">Aaron Murray pass complete to Rantavious Wooten for 40 yards to the Aub 43 for a 1ST down.</td>
<td headers="2013 - 333200002  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #FCFDFF; color: #000000;">0.189</td>
<td headers="2013 - 333200002  ep_post" class="gt_row gt_center gt_striped" style="background-color: #C7D7FF; color: #000000;">3.467</td>
<td headers="2013 - 333200002  ep_added" class="gt_row gt_center gt_striped" style="background-color: #CAD9FF; color: #000000;">3.278</td></tr>
    <tr><td headers="2013 - 333200002  offense" class="gt_row gt_left">Georgia</td>
<td headers="2013 - 333200002  defense" class="gt_row gt_left">Auburn</td>
<td headers="2013 - 333200002  period" class="gt_row gt_center">3</td>
<td headers="2013 - 333200002  yards_to_goal" class="gt_row gt_center">16</td>
<td headers="2013 - 333200002  down" class="gt_row gt_center">2</td>
<td headers="2013 - 333200002  distance" class="gt_row gt_center">10</td>
<td headers="2013 - 333200002  play_text" class="gt_row gt_left">Aaron Murray rush for 16 yards for a TOUCHDOWN.</td>
<td headers="2013 - 333200002  ep_pre" class="gt_row gt_center" style="background-color: #BFD1FF; color: #000000;">3.930</td>
<td headers="2013 - 333200002  ep_post" class="gt_row gt_center" style="background-color: #FFFFFF; color: #000000;">—</td>
<td headers="2013 - 333200002  ep_added" class="gt_row gt_center" style="background-color: #CEDBFF; color: #000000;">3.070</td></tr>
    <tr><td headers="2013 - 333200002  offense" class="gt_row gt_left gt_striped">Auburn</td>
<td headers="2013 - 333200002  defense" class="gt_row gt_left gt_striped">Georgia</td>
<td headers="2013 - 333200002  period" class="gt_row gt_center gt_striped">1</td>
<td headers="2013 - 333200002  yards_to_goal" class="gt_row gt_center gt_striped">21</td>
<td headers="2013 - 333200002  down" class="gt_row gt_center gt_striped">2</td>
<td headers="2013 - 333200002  distance" class="gt_row gt_center gt_striped">10</td>
<td headers="2013 - 333200002  play_text" class="gt_row gt_left gt_striped">Corey Grant rush for 21 yards for a TOUCHDOWN.</td>
<td headers="2013 - 333200002  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #BFD1FF; color: #000000;">3.946</td>
<td headers="2013 - 333200002  ep_post" class="gt_row gt_center gt_striped" style="background-color: #FFFFFF; color: #000000;">—</td>
<td headers="2013 - 333200002  ep_added" class="gt_row gt_center gt_striped" style="background-color: #CEDBFF; color: #000000;">3.054</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="michigan-state---michigan-2015-woah" class="level3" data-number="3.2.4">
<h3 data-number="3.2.4" class="anchored" data-anchor-id="michigan-state---michigan-2015-woah"><span class="header-section-number">3.2.4</span> Michigan State - Michigan, 2015 (WOAH)</h3>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>pbp_fit <span class="sc">|&gt;</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">augment</span>(</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    prepared_pbp <span class="sc">|&gt;</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(game_id <span class="sc">==</span> <span class="dv">400763542</span>)</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_expected_points</span>() <span class="sc">|&gt;</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_points_added</span>() <span class="sc">|&gt;</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_plays_by_game</span>(<span class="at">var =</span> predicted_points_added, <span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plays_points_tbl</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tqnizyfzvq" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#tqnizyfzvq table {
  font-family: Lato, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#tqnizyfzvq thead, #tqnizyfzvq tbody, #tqnizyfzvq tfoot, #tqnizyfzvq tr, #tqnizyfzvq td, #tqnizyfzvq th {
  border-style: none;
}

#tqnizyfzvq p {
  margin: 0;
  padding: 0;
}

#tqnizyfzvq .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 12px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #FFFFFF;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#tqnizyfzvq .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#tqnizyfzvq .gt_title {
  color: #333333;
  font-size: 24px;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#tqnizyfzvq .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#tqnizyfzvq .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tqnizyfzvq .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tqnizyfzvq .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tqnizyfzvq .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#tqnizyfzvq .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#tqnizyfzvq .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#tqnizyfzvq .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#tqnizyfzvq .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#tqnizyfzvq .gt_spanner_row {
  border-bottom-style: hidden;
}

#tqnizyfzvq .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#tqnizyfzvq .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#tqnizyfzvq .gt_from_md > :first-child {
  margin-top: 0;
}

#tqnizyfzvq .gt_from_md > :last-child {
  margin-bottom: 0;
}

#tqnizyfzvq .gt_row {
  padding-top: 20px;
  padding-bottom: 20px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #F6F7F7;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#tqnizyfzvq .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#tqnizyfzvq .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#tqnizyfzvq .gt_row_group_first td {
  border-top-width: 2px;
}

#tqnizyfzvq .gt_row_group_first th {
  border-top-width: 2px;
}

#tqnizyfzvq .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tqnizyfzvq .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#tqnizyfzvq .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#tqnizyfzvq .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tqnizyfzvq .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tqnizyfzvq .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#tqnizyfzvq .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#tqnizyfzvq .gt_striped {
  background-color: #FAFAFA;
}

#tqnizyfzvq .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tqnizyfzvq .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tqnizyfzvq .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#tqnizyfzvq .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tqnizyfzvq .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#tqnizyfzvq .gt_left {
  text-align: left;
}

#tqnizyfzvq .gt_center {
  text-align: center;
}

#tqnizyfzvq .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#tqnizyfzvq .gt_font_normal {
  font-weight: normal;
}

#tqnizyfzvq .gt_font_bold {
  font-weight: bold;
}

#tqnizyfzvq .gt_font_italic {
  font-style: italic;
}

#tqnizyfzvq .gt_super {
  font-size: 65%;
}

#tqnizyfzvq .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#tqnizyfzvq .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#tqnizyfzvq .gt_indent_1 {
  text-indent: 5px;
}

#tqnizyfzvq .gt_indent_2 {
  text-indent: 10px;
}

#tqnizyfzvq .gt_indent_3 {
  text-indent: 15px;
}

#tqnizyfzvq .gt_indent_4 {
  text-indent: 20px;
}

#tqnizyfzvq .gt_indent_5 {
  text-indent: 25px;
}

#tqnizyfzvq .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#tqnizyfzvq div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="offense">offense</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="defense">defense</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="period">period</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="yards_to_goal">ytg</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="down">down</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="distance">distance</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="play_text">play_text</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="ep_pre">ep_pre</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="ep_post">ep_post</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="ep_added">ep_added</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="10" class="gt_group_heading" scope="colgroup" id="2015 - 400763542">2015 - 400763542</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="2015 - 400763542  offense" class="gt_row gt_left">Michigan</td>
<td headers="2015 - 400763542  defense" class="gt_row gt_left">Michigan State</td>
<td headers="2015 - 400763542  period" class="gt_row gt_center">4</td>
<td headers="2015 - 400763542  yards_to_goal" class="gt_row gt_center">47</td>
<td headers="2015 - 400763542  down" class="gt_row gt_center">4</td>
<td headers="2015 - 400763542  distance" class="gt_row gt_center">2</td>
<td headers="2015 - 400763542  play_text" class="gt_row gt_left">Blake O'Neill run for a loss of 15 yards Blake O'Neill fumbled, recovered by MchSt Jalen Watts-Jackson  , return for 38 yds</td>
<td headers="2015 - 400763542  ep_pre" class="gt_row gt_center" style="background-color: #FBFCFF; color: #000000;">0.273</td>
<td headers="2015 - 400763542  ep_post" class="gt_row gt_center" style="background-color: #FFFFFF; color: #000000;">—</td>
<td headers="2015 - 400763542  ep_added" class="gt_row gt_center" style="background-color: #FFBD5E; color: #000000;">-7.273</td></tr>
    <tr><td headers="2015 - 400763542  offense" class="gt_row gt_left gt_striped">Michigan State</td>
<td headers="2015 - 400763542  defense" class="gt_row gt_left gt_striped">Michigan</td>
<td headers="2015 - 400763542  period" class="gt_row gt_center gt_striped">4</td>
<td headers="2015 - 400763542  yards_to_goal" class="gt_row gt_center gt_striped">75</td>
<td headers="2015 - 400763542  down" class="gt_row gt_center gt_striped">1</td>
<td headers="2015 - 400763542  distance" class="gt_row gt_center gt_striped">10</td>
<td headers="2015 - 400763542  play_text" class="gt_row gt_left gt_striped">Connor Cook pass complete to Trevon Pendleton for 74 yds to the Mich 1 for a 1ST down</td>
<td headers="2015 - 400763542  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #F3F6FF; color: #000000;">0.776</td>
<td headers="2015 - 400763542  ep_post" class="gt_row gt_center gt_striped" style="background-color: #90B5FF; color: #000000;">6.437</td>
<td headers="2015 - 400763542  ep_added" class="gt_row gt_center gt_striped" style="background-color: #A0BEFF; color: #000000;">5.660</td></tr>
    <tr><td headers="2015 - 400763542  offense" class="gt_row gt_left">Michigan</td>
<td headers="2015 - 400763542  defense" class="gt_row gt_left">Michigan State</td>
<td headers="2015 - 400763542  period" class="gt_row gt_center">1</td>
<td headers="2015 - 400763542  yards_to_goal" class="gt_row gt_center">82</td>
<td headers="2015 - 400763542  down" class="gt_row gt_center">4</td>
<td headers="2015 - 400763542  distance" class="gt_row gt_center">19</td>
<td headers="2015 - 400763542  play_text" class="gt_row gt_left">Blake O'Neill punt for 80 yds, downed at the MchSt 2</td>
<td headers="2015 - 400763542  ep_pre" class="gt_row gt_center" style="background-color: #FFE0B6; color: #000000;">-3.311</td>
<td headers="2015 - 400763542  ep_post" class="gt_row gt_center" style="background-color: #EBF0FF; color: #000000;">1.266</td>
<td headers="2015 - 400763542  ep_added" class="gt_row gt_center" style="background-color: #B4CAFF; color: #000000;">4.577</td></tr>
    <tr><td headers="2015 - 400763542  offense" class="gt_row gt_left gt_striped">Michigan State</td>
<td headers="2015 - 400763542  defense" class="gt_row gt_left gt_striped">Michigan</td>
<td headers="2015 - 400763542  period" class="gt_row gt_center gt_striped">1</td>
<td headers="2015 - 400763542  yards_to_goal" class="gt_row gt_center gt_striped">77</td>
<td headers="2015 - 400763542  down" class="gt_row gt_center gt_striped">3</td>
<td headers="2015 - 400763542  distance" class="gt_row gt_center gt_striped">12</td>
<td headers="2015 - 400763542  play_text" class="gt_row gt_left gt_striped">Connor Cook pass complete to Aaron Burbridge for 27 yds to the 50 yard line for a 1ST down</td>
<td headers="2015 - 400763542  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #FFEFD8; color: #000000;">-1.769</td>
<td headers="2015 - 400763542  ep_post" class="gt_row gt_center gt_striped" style="background-color: #D6E1FF; color: #000000;">2.599</td>
<td headers="2015 - 400763542  ep_added" class="gt_row gt_center gt_striped" style="background-color: #B7CCFF; color: #000000;">4.368</td></tr>
    <tr><td headers="2015 - 400763542  offense" class="gt_row gt_left">Michigan</td>
<td headers="2015 - 400763542  defense" class="gt_row gt_left">Michigan State</td>
<td headers="2015 - 400763542  period" class="gt_row gt_center">3</td>
<td headers="2015 - 400763542  yards_to_goal" class="gt_row gt_center">64</td>
<td headers="2015 - 400763542  down" class="gt_row gt_center">3</td>
<td headers="2015 - 400763542  distance" class="gt_row gt_center">9</td>
<td headers="2015 - 400763542  play_text" class="gt_row gt_left">Jake Rudock pass complete to Amara Darboh for 32 yds to the MchSt 32 for a 1ST down</td>
<td headers="2015 - 400763542  ep_pre" class="gt_row gt_center" style="background-color: #FFFEFD; color: #000000;">-0.094</td>
<td headers="2015 - 400763542  ep_post" class="gt_row gt_center" style="background-color: #BDD0FF; color: #000000;">4.056</td>
<td headers="2015 - 400763542  ep_added" class="gt_row gt_center" style="background-color: #BBCFFF; color: #000000;">4.150</td></tr>
    <tr><td headers="2015 - 400763542  offense" class="gt_row gt_left gt_striped">Michigan</td>
<td headers="2015 - 400763542  defense" class="gt_row gt_left gt_striped">Michigan State</td>
<td headers="2015 - 400763542  period" class="gt_row gt_center gt_striped">4</td>
<td headers="2015 - 400763542  yards_to_goal" class="gt_row gt_center gt_striped">69</td>
<td headers="2015 - 400763542  down" class="gt_row gt_center gt_striped">3</td>
<td headers="2015 - 400763542  distance" class="gt_row gt_center gt_striped">11</td>
<td headers="2015 - 400763542  play_text" class="gt_row gt_left gt_striped">Jake Rudock pass complete to Amara Darboh for 24 yds to the MchSt 45 for a 1ST down</td>
<td headers="2015 - 400763542  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #FFF9F1; color: #000000;">-0.611</td>
<td headers="2015 - 400763542  ep_post" class="gt_row gt_center gt_striped" style="background-color: #C9D8FF; color: #000000;">3.379</td>
<td headers="2015 - 400763542  ep_added" class="gt_row gt_center gt_striped" style="background-color: #BED1FF; color: #000000;">3.989</td></tr>
    <tr><td headers="2015 - 400763542  offense" class="gt_row gt_left">Michigan State</td>
<td headers="2015 - 400763542  defense" class="gt_row gt_left">Michigan</td>
<td headers="2015 - 400763542  period" class="gt_row gt_center">3</td>
<td headers="2015 - 400763542  yards_to_goal" class="gt_row gt_center">30</td>
<td headers="2015 - 400763542  down" class="gt_row gt_center">2</td>
<td headers="2015 - 400763542  distance" class="gt_row gt_center">8</td>
<td headers="2015 - 400763542  play_text" class="gt_row gt_left">Connor Cook pass complete to Macgarrett Kings Jr. for 30 yds for a TD, (Michael Geiger KICK)</td>
<td headers="2015 - 400763542  ep_pre" class="gt_row gt_center" style="background-color: #C5D5FF; color: #000000;">3.583</td>
<td headers="2015 - 400763542  ep_post" class="gt_row gt_center" style="background-color: #FFFFFF; color: #000000;">—</td>
<td headers="2015 - 400763542  ep_added" class="gt_row gt_center" style="background-color: #C8D7FF; color: #000000;">3.417</td></tr>
    <tr><td headers="2015 - 400763542  offense" class="gt_row gt_left gt_striped">Michigan State</td>
<td headers="2015 - 400763542  defense" class="gt_row gt_left gt_striped">Michigan</td>
<td headers="2015 - 400763542  period" class="gt_row gt_center gt_striped">1</td>
<td headers="2015 - 400763542  yards_to_goal" class="gt_row gt_center gt_striped">74</td>
<td headers="2015 - 400763542  down" class="gt_row gt_center gt_striped">3</td>
<td headers="2015 - 400763542  distance" class="gt_row gt_center gt_striped">10</td>
<td headers="2015 - 400763542  play_text" class="gt_row gt_left gt_striped">Connor Cook pass complete to Aaron Burbridge for 13 yds to the MchSt 39 for a 1ST down</td>
<td headers="2015 - 400763542  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #FFF4E5; color: #000000;">-1.177</td>
<td headers="2015 - 400763542  ep_post" class="gt_row gt_center gt_striped" style="background-color: #DEE7FF; color: #000000;">2.066</td>
<td headers="2015 - 400763542  ep_added" class="gt_row gt_center gt_striped" style="background-color: #CBD9FF; color: #000000;">3.244</td></tr>
    <tr><td headers="2015 - 400763542  offense" class="gt_row gt_left">Michigan State</td>
<td headers="2015 - 400763542  defense" class="gt_row gt_left">Michigan</td>
<td headers="2015 - 400763542  period" class="gt_row gt_center">1</td>
<td headers="2015 - 400763542  yards_to_goal" class="gt_row gt_center">51</td>
<td headers="2015 - 400763542  down" class="gt_row gt_center">3</td>
<td headers="2015 - 400763542  distance" class="gt_row gt_center">18</td>
<td headers="2015 - 400763542  play_text" class="gt_row gt_left">MICHIGAN Penalty, Defensive Holding (Jabrill Peppers) to the Mich 41 for a 1ST down</td>
<td headers="2015 - 400763542  ep_pre" class="gt_row gt_center" style="background-color: #F6F8FF; color: #000000;">0.563</td>
<td headers="2015 - 400763542  ep_post" class="gt_row gt_center" style="background-color: #C5D5FF; color: #000000;">3.607</td>
<td headers="2015 - 400763542  ep_added" class="gt_row gt_center" style="background-color: #CEDBFF; color: #000000;">3.044</td></tr>
    <tr><td headers="2015 - 400763542  offense" class="gt_row gt_left gt_striped">Michigan State</td>
<td headers="2015 - 400763542  defense" class="gt_row gt_left gt_striped">Michigan</td>
<td headers="2015 - 400763542  period" class="gt_row gt_center gt_striped">1</td>
<td headers="2015 - 400763542  yards_to_goal" class="gt_row gt_center gt_striped">28</td>
<td headers="2015 - 400763542  down" class="gt_row gt_center gt_striped">4</td>
<td headers="2015 - 400763542  distance" class="gt_row gt_center gt_striped">8</td>
<td headers="2015 - 400763542  play_text" class="gt_row gt_left gt_striped">Connor Cook pass incomplete to Aaron Burbridge</td>
<td headers="2015 - 400763542  ep_pre" class="gt_row gt_center gt_striped" style="background-color: #E6ECFF; color: #000000;">1.615</td>
<td headers="2015 - 400763542  ep_post" class="gt_row gt_center gt_striped" style="background-color: #FFF3E3; color: #000000;">-1.254</td>
<td headers="2015 - 400763542  ep_added" class="gt_row gt_center gt_striped" style="background-color: #FFE4BF; color: #000000;">-2.869</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/phenrickson\.github\.io\/cfb_models\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>